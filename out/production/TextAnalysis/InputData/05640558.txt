

Abstract?This paper firstly analyzes the current measures of association rules and then proposes a measure of match as the substitution of confidence. Considering that there are often two kinds of situations in transaction database: (1) the importance of different itemsets are different. (2) When new data are added, how to reflect the popular information of the added database while guaranteeing the correlation between the antecedent and consequent of the rule. In view of the above situations, this paper presents two weighted association rule mining methods, and compares them with the method under the traditional framework of support-confidence. The experimental results show that the antecedent and consequent of the rules generated by the proposed methods have higher correlation and the generated rules also highlight the important itemsets as well as the influences brought by the new data. The proposed methods can make the mined association rules have more practical significance.

Keywords-Data mining, association rules, correlation, match

I.  INTRODUCTION In the research field of data mining, association rules  mining is a basic but important research work. It is the base and prerequisite of many other data mining research areas. Mining association rules is aimed at finding correlations between the different items in a database, which can be used to find the patterns of customer?s purchase such as how the transactions of buying others. Such rules can be implemented to design the merchandise shelves, to manage the stock and to classify the customers according to the purchase patterns. At present, the main research work about association rules includes efficiency analysis, correlation analysis and the applications of rules.

Efficiency analysis mainly studies how to generate frequent itemsets efficiently. Since R.Agrawal et al firstly introduced the association rules mining algorithm Apriori [1], many researches have done to make corresponding improvements according to the shortage of Apriori. FP-growth [2] is a mining method which doesn?t generate candidate itemsets. The key idea behind FP-growth is to use a data structure called FP-tree to obtain a compact representation of the original transactions so that they can fit into the main memory. The algorithm generates itemsets from shorter ones to longer ones adding items one by one to those itemsets already generated. It divides mining the FP-tree into mining smaller FP-trees, and it can greatly induce the research time. But when the database is dense or the support threshold is relatively small, the number of the frequent  patterns will increase exponentially. It becomes an impossible task to find all the frequent patterns. In fact, there are a large number of redundant frequent itemsets. So the researches use several methods reduce the redundant frequent patterns. At present, the most popular method is to adopt the frequent closed itemsets mining algorithms, such as A-Close [3], CLOSET [4], CHARM [5], CLOSET+ [6] and FPClose [7] etc.

The difficulty of frequent closed itemsets mining algorithms is to check whether itemsets are closed. Frequent closed itemsets mining algorithms generate a relatively smaller result set, so the algorithms have better expansibility and intelligibility.

Aim at the correlation of the generated rules. (1) In order to make the rules more interesting, researchers have put forward a number of metrics of interestingness. In [8] three types of metrics: (any-confidence, all-confidence, and bond) are proposed to take place of support. In [9] a new metric of interestingness by using the information of classification is proposed. It gives a definition of interestingness: the support of rule is R times more than expected, or the confidence is R times more than expected. R is a constant that user specify. In [10] an improvement is made based on interestingness in [9]. It took account of generalization as well as specialization. In [11] a measure of interestingness is derived: P(AB)/sqrt(P(A)P(B)) from the correlation of statistics. It contains two important factors: interest factor and support. In [12] a significance measure for association is proposed by making use of 2? correlation test. Its interestingness was defined as ( ) /( ( ) ( ))IS P AB P A P B= . Because of the shortcomings of symmetric interestingness in [12], in [13] Certainty: P(A) P(? B)/P(A??B) is proposed. But it is anti-symmetric for the rules. (2) Finding negative association rules. For example, in [14] the search space is limited through a combination of pre- discovered association rules and the domain knowledge and it is possible to discover fewer amounts but more interesting negative association rules. According to negative rules, we are interested in finding the items that have been purchased with other items with a very low probability. That is to say, it needs to discover the items in a transaction that are rarely appear at the same time. In [15] a framework based on correlation is proposed. In this framework, it uses residual analysis to determine whether two items are independent. In [16] a method based on linear regression and reverse authentication is presented to verify the correlation of the association rules. The method is based on the analysis of the correlation of the incident and verifies the generated rules through the selected     time period. Therefore, how to select the size of time period will become an issue which is worth exploring.

In this paper, we firstly analyzes and studies the correlation of generates rules, and then propose a method of weighted association rules mining based on the existing related achievements. Use weighted association rules can highlight the influence brought by the important itemsets and it makes the generated rules not only have higher correlation but also have more practical significance.



II. THE BASIC PROBLEMS AND MEASURES OF ASSOCIATION RULES  The basic problems of association rules are described as follows. Assume },,{ ,21 miiiI ?= is a binary set, in which parameters miii ,, ,21 ?  are called items. Assume transaction T is the item set with the restriction of T ? I. Define D as the transaction set. Let X be the set containing some items in I, and the transaction T will include X if X ? T. The length of the item set is defined as the number of the items in it. Association rules are those implications that can be depicted as X? Y, where X ? I, Y ? I, and X?Y=?. The support of the rule X? Y in the transaction database D is the ratio between the transaction number including X and Y in the transaction sets and all the transaction number, which can be written as support(X? Y), that is to say support (X? Y)=|{T:X?Y ? T ? T?D}|/|D|. The confidence of the rule X ? Y in the transaction sets is the ratio between the transaction number including X and Y and those including X, which can be written as confidence (X? Y), that is to say confidence (X? Y)=|{T: X?Y ? T, T?D}|/|{T: X ? T, T?D}|.

Given a transaction set D, mining association rules is to find the rules whose support and confidence are respectively larger than or equal to the minimum support threshold (minsup) and minimum confidence threshold (minconf) given by user. Therefore the association rule mining can be divided into two sub-problems as follows:  (1) Find out all the itemsets, the support and confidence of which are larger than or equal to the minsup required by the customers. The itemsets with minsup are called frequent sets.

(2) Set up association rules through frequent sets. Finding out all M?s non-empty subsets ms to each frequent set M.

Association rule m=>(M-m) can be obtained when support(M)/support(m)>=minconf. support(M)/support(m) is defined as the confidence of the rule m=>(M-m) where m is the antecedent of the rule and M-m is the consequent of the rule.

The framework of support-confidence is always used to generate association rules. But it will also produce a large number of redundant and unrelated rules. Support denotes the frequency of itemsets? occurrence. We can find that the regularities exactly only when itemsets can occur frequently.

Otherwise, it is hard to find out the regularities included in the itemsets. Confidence can denote the probability that some itemset? emergence will lead to others? occurrence. But we notice that the confidence of association rule F=>E only considers the possibility of the case when E and F will occur  simultaneously, without considering the possibility of the case when only E occur and the case whether E and F are correlated. Then many association rules obtained are ineffective.



III. FRAMEWORK OF SUPPORT-MATCH According to those problems discussed above, we find that  the depiction of confidence is not consummate. It is inadequate to describe the correlation among itemsets. The paper adopted the existing the research results [17] and applied the framework of support-match  to substitute support-confidence . So the generated rules must satisfy the minimum support and the minimum match. Match is defined as follows:  Assume P(A) denotes the probability that A occurs, P(B) denotes the probability that B occurs, P(AB) denotes the probability that A and B occur simultaneously, P( A B) denotes the probability that A  and B occur simultaneously, P( A ) denotes the probability that A doesn?t occurs. Then, we define the match of rule A=>B as match = (the confidence of A=>B)- (the confidence of A =>B), that is:  P(AB) P(A B) P(A) P(A)  match = ?                           (1)  To facilitate the understanding and calculation of the formula, the above formula can be transformed as:  P(AB) P(A) P(B) P(A) (1 P(A))  match ? ?= ? ?  (2)  We make the declaration that an itemset is unrelated to any other itemset when its support is 1, in which case we can overlook the match of this item set with other item sets.

Consequently, the probability for any itemset A?s occurrence is 0<P(A)<1. The range of match is [-1, 1] because 0<P(AB)/P(A) ?1, 0<P( A B)/P( A )?1. If match>0, we have P(AB)>P(A)?P(B), which proves that A and B are correlated.

If match=1, we have P(AB)=P(A)=P(B), which indicates the case that A and B appear simultaneously.

Furthermore, we analyze the match theoretically. We define the concept of correlation.

P(AB) P(A) P(B)  cor = ?  (3)  P(AB)1 P(A) P(B)  cor = ?  (4)  Hence, we have ( 1) ( )match cor cor P B= ? ? . We will get 1 1cor cor= = when cor  equals to cor1 for the reason that  1 P(A)1 1 P(A) corcor ? ?= ?  . That is to say, A is unrelated to B when  A is unrelated to B. Moreover, 1cor  will be smaller than 1 while cor  is bigger than 1. In other words, A is negatively correlated to B if A is positively correlated to B. We can also find from the equation that the definition of match  not only     includes some correlation factors but also some ( )P B  factors.

Therefore, it can reveal the validity of rule A=>B with the definition of match.



IV. THE WEIGHTED ASSOCIATION RULES MINING  A. Horizontal weighted association rules In transaction database, the importance of different items is  different, but we usually need to strengthen the influence of the important items. Therefore, we can weight different items so as to underline the importance of the important items. Such problems are called horizontal weighted association rules problems [18].

Assume I={i1,i2,?im} is a set of items. If there are L items which are more important, and we set these items the corresponding weight hj (?1), the weight of the rest items is 1.

The weighted support for itemset A={a1,a2,?alenth} whose length is length which is defined as follows.

1sup ( ) ( )sup( ) lenth  h m m  A h A lenth =  = ?                   (5)  But if adopting the framework of support-confidence, the weighted confidence is defined as follows.

( ) sup ( ) / sup ( )h h hcon A B AB A? =                 (6)  From the definition of the weighted support we can find that the value of the weighted confidence may be greater than 1. Hence, the obtained rules after weighting are hard to understand and the parameter of the minimum weighted confidence is difficult to determine. Besides, the value of confidence itself can?t reflect the correlation of the antecedent and consequent of rules. Therefore, we aim at defining weighted match that can not only reflect the correlation of the antecedent and consequent of rules, but also reflect the influences on the final rules after weighting items. We assume the weight of the itemset when it occurs is same to that when it doesn?t occur. The definition of the weighted match is as follows.

AB  A  h P(AB) P(A B)( ) ( ) h P(A) P(A)h  match A B? = ?              (7)  where Ah  is the weight of the itemset A, ABh  is the weight of the itemset AB. The definition of the weighted match not only guarantees the compatibility of rules when not weighting, but also considers the influences on rules after weighting.

B. Incremental Updating Association Rules Based on weighting According to the problem about how to maintain the  association rules after adding new data, the current researches mainly contain: (1) how to efficiently update rules using the existing rules; (2) how to reflect the popular information contained in the added database. This paper does some researches on the second problem. In order to find the popular information contained in the new added database, we use the weighted support to underline the influences on the final frequent sets brought by itemsets from the added database, and  combine the framework of support-match to generate association rules.

Assume DB is a transaction database, and db is the new added database. |DB| denotes the number of transactions in DB, and |db| denotes the number of transactions in db. For any itemset A, its support is defined as follows.

0 0 1 1sup( ) sup ( ) sup ( )A w A w A= ? + ?             (8)  where sup0(A) denotes the itemset A?s support in DB, and Sup1(A) denotes the itemset A?s support in db, w0 is the weight of itemset in DB, and w1 is the weight of itemset in db.

Weights are set with the size of the database. The setting of the weight is relevant to the size of database. The weights are calculated using the following formulas.

| |  | | | | DBw  DB db =  + (9)  | |  | | | | dbw  DB db =  + (10)  But the above formulas actually mean that the support of itemset A doesn?t weight and it is consistent with the incremental updating algorithm. In order to highlight the influence of the new data, the weights are usually set as follows:  | |  | | | | DBw  DB db ?  + (11)  | |  | | | | dbw  DB db ?  + (12)  The rules can also be produced in the same weighting way.

We define match as follows:  0 0  1 1  ( ) ( ) ( )  match A B w match A B w match A B  ? = ? ? + ? ?      (13)  where 0 ( )match A B?  is the match of itemset AB in DB,  1( )match A B?  is the match of itemset AB in db. By using weighted match, the popular information contained in the new added database is highlighted. In real applications, we can use only weighted support, or just use weighted match to reflect the popular information according to actual needs.



V. EXPERIMENTAL RESULTS This paper uses the adult database to verify the  effectiveness of the weighted association rules mining algorithm. Experiments are carried out on a Lenovo notebook computer with 256M memory and 2GHz main frequency. We use Apriori algorithm to produce the frequent itemsets. We compare the number of rules generate by our proposed method with that generated under the traditional framework of support- confidence.

The parameter setting for the adult database is as follows: In the framework of support-confidence, support=0.4, confidence=0.8; in the framework of support-match, support=0.4, match=0.4. The number of rules generated under the two frameworks is shown in Fig 1.

Fig 2 shows the experimental results of horizontal weighted association rules mining. We use two ways to test the generated rules: (1) weighted support-confidence; (2) weighted support- match. The parameter is set as follows: In the framework of support-confidence, support=0.4, confidence=0.8; in the framework of support-match, support=0.4, match=0.4.

We weight the items whose codes are from 1 to 9 and their weights are 1.1, 1.2, , 1.9 respectively. The number of rules generated under the framework of support-confidence is multiplied by 10.

Experimental results show that the framework of support- match can not only mine the effective association rules, but also can reduce the weak-related rules. So it guarantees the rules provided to users have high correlation.

Figure 1.  comparison of rules under two framework   Figure 2.  comparison of rules after weighting

VI. CONCLUSIONS This paper discussed and analyzed the deficiency of the  current framework of support-confidence and applied the framework of support-match to substitute support-confidence.

It can greatly reduce the redundant and the weak-related rules.

Besides, we can also use other improved methods to produce frequent itemsets. Based on the framework of support- confidence, this paper presented two weighted association rule mining methods. The experimental results showed that the antecedent and consequent of the rules generated by the proposed methods have higher correlation and the generated rules also highlight the important itemsets as well as the influences brought by the new data. The proposed methods can  make the mined association rules have more practical significance.


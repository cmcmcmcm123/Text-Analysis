Discovering Patterns on Medication Prescriptions

Abstract ? Today, electronic prescription in clinical scenarios is frequently used to support decision-making tasks and services monitoring in public health institutions. The huge amount of data that has been stored during last years about medication prescriptions makes now possible to apply data mining techniques with a significant success to discover patterns that could be useful to optimize medical services and resources related to medication prescription. Association rules, which are frequently used in the analysis of commercial transactions data, could be applied usefully on the medical prescriptions area. In fact, the idea of discovering medication prescriptions patterns it is quite attractive due to the wide range of new applications that can be opened to service management and optimisation. In this work, we present a study about medication prescriptions in the north region of Portugal, in order to discover some relevant patterns among medication, doctors and laboratories.

Keywords ? Medication Prescriptions, Data Mining, Discovering Medication Prescriptions Patterns, Association Rules, FP- Growth, and RapidMiner.



I.  INTRODU??O Numa sociedade em constante crescimento e numa era  considerada como sendo a da informa??o, a vantagem competitiva de uma qualquer organiza??o hoje em dia ? alcan?ada de acordo com a sua habilidade de adquirir e manusear a maior quantidade de informa??o pertinente para as suas actividades. Essa crescente disponibilidade de dados fez com que as organiza??es come?assem a adoptar um novo processo de trabalho no seu variad?ssimo rol de actividades: o da explora??o selectiva de dados. Este processo desenvolve-se em torno da descoberta de tend?ncias, padr?es ou poss?veis anomalias existentes nos dados armazenados que usualmente n?o est?o vis?veis atrav?s de t?cnicas convencionais de an?lise [1], o que impossibilita , como ? sabido, o desenvolvimento de an?lises pormenorizadas sobre os dados dispon?veis. A necessidade de explora??o dessas tend?ncias e padr?es pode ser feita atrav?s de mecanismos de minera??o de dados que permitam fazer a extrac??o de informa??o relevante (possivelmente desconhecida) para as actividades dos organismos a que dizem respeito. Com apelo a algoritmos sofisticados de an?lise e processamento intensivo de dados esses mecanismos costumam ser eficazes na descoberta de padr?es de actividade relevantes quando aplicados sobre um volume de dados significativo [2]. A introdu??o do registo electr?nico na pr?tica cl?nica, abrangendo todos os passos  existentes de uma consulta m?dica, pode servir de apoio ? tomada de decis?o e ? monitoriza??o dos servi?os prestados pelos organismos, quer do ponto de vista do utente, quer do ponto de vista dos cl?nicos [3]. Apesar de existirem poucos estudos sobre a avalia??o da efic?cia desses processos, os resultados que se conhecem sobre a utiliza??o de registos electr?nicos em organismos de sa?de sugerem um aumento da seguran?a dos pr?prios utentes, bem como uma redu??o de gastos em hospitais e em centros de sa?de. O Sistema de Apoio ao M?dico (SAM) foi desenvolvido atrav?s de um projecto piloto instalado em Portugal no ano de 2000. Atrav?s dele ? hoje poss?vel obter informa??o relativa ao registo completo de uma consulta m?dica, o que inclui dados sobre o motivo da consulta, o diagn?stico do utente em causa, o registo dos medicamentos prescritos e os meios complementares utilizados na an?lise cl?nica do utente [4]. A descoberta de associa??es entre a prescri??o de medicamentos e outros factores existentes com ela relacionados pode ser realizada atrav?s da aplica??o de t?cnicas de minera??o de dados conhecidas com alguma garantia de sucesso, desde que os dados base tenham os requisitos essenciais para isso. Em suma, que existam e que tenham qualidade. Com essa garantia ? poss?vel desenvolver os modelos e aplicar as t?cnicas de minera??o mais convenientes na procura de padr?es de prescri??o de medicamentos. O objectivo principal era descobrir poss?veis associa??es entre a prescri??o de medicamentos que nos revelassem eventuais rela??es entre os m?dicos prescritores e os laborat?rios associados aos medicamentos prescritos. Em Portugal, a realiza??o deste tipo de estudos ? ainda bastante reduzida [3,4] o que faz com que os resultados deste trabalho sejam bastante ?teis para qualquer processo de tomada de decis?o que envolva a prescri??o electr?nica de medicamentos.



II. T?CNICAS E M?TODOS  A. Regras de Associa??o: Uma Vis?o O t?pico das regras de associa??o foi introduzido em 1993  [5]. Tipicamente, uma regra de associa??o representa uma implica??o na forma  ?  X ? I j , em que  ?  X  ? um conjunto de alguns elementos de  ?  I , e  ?  I j  um elemento em  ?  I  que n?o est? presente em  ?  X .

?  I  ? um conjunto de atributos bin?rios  ?  I1,I2,...,In , designados por elementos, e  ?  T  um conjunto de transac??es de elementos. Cada transac??o  ?  t  ? representada como sendo um vector bin?rio (tuplo), em que  ?  t[k] =1 se na    transac??o  ?  t  existir o elemento  ?  Ik , caso contr?rio  ?  t[k] = 0 .

Existe apenas um tuplo na base de dados para cada transac??o.

A regra  ?  X ? I j  verifica-se num conjunto de transac??es  ?  T com uma confian?a de  ?  0 ? c ?1, se pelo menos  ?  c% das transac??es em  ?  T  que satisfa?am  ?  X  tamb?m satisfa?am  ?  I j .

Dada uma transac??o  ?  T , o objectivo ? gerar todas as regras que satisfa?am duas formas de restri??es: sint?cticas, que se referem ?s restri??es em elementos que poder?o aparecer em regras, ou de suporte, que correspondem ao n?mero de transac??es em  ?  T  que suportam uma regra [5].

O processo de cria??o de regras de associa??o pode-se  dividir em duas fases principais, que representam, respectivamente, os dois problemas principais da sua cria??o.

Numa primeira fase, ? necess?rio gerar todas as combina??es de elementos que apresentem um suporte superior ao suporte m?nimo especificado. Essas combina??es s?o denotadas como sendo combina??es largas, enquanto que as que n?o apresentem suporte m?nimo s?o consideradas como sendo pequenos conjuntos de elementos. Todas as combina??o s?o geradas tendo em conta as restri??es sint?cticas de maneira a restringir as combina??es geradas [5]. A segunda fase, consiste na constru??o, propriamente dita, das regras. Para um dado conjunto de elementos largos,  ?  Y = I1I2...Ik,k ? 2 , s?o geradas todas as regras que usem os elementos existentes no conjunto  ?  I1,I2,...,In . O antecedente de cada uma destas regras ser? um subconjunto  ?  X  de  ?  Y , tal que  ?  X  tem  ?  k ?1 elementos, e o consequente ser? o elemento  ?  Y ? X . Para gerar a regra  ?  X = I j |c  (na qual  ?  c  representa o factor de confian?a da regra), em que  ?  X = I1I2...I j?1I j+1...Ik , ? necess?rio calcular a confian?a da regra, atrav?s da divis?o do suporte de  ?  Y  pelo suporte de  ?  X . Se o resultado for maior que  ?  c , ent?o a regra ? satisfeita com o factor de confian?a  ?  c , caso contr?rio a regra ? descartada. ? preciso ter em aten??o que, se o conjunto de elementos  ?  Y  ? largo, ent?o todos os subconjuntos de  ?  Y tamb?m s?o considerados largos e, como tal, ? necess?rio conhecer todos os seus suportes na primeira fase. Outra condi??o essencial ? que todas as regras derivadas de  ?  Y  t?m que satisfazer as restri??es de suporte, pois  ?  Y  satisfaz as restri??es de suporte e ? a uni?o de elementos provenientes, do consequente e do antecedente, de todas as regras existentes [3].

Depois de encontrados todos os conjuntos de elementos considerados largos, a segunda fase ? processada de maneira trivial. Logo, como se constata, o problema encontra-se na resolu??o da primeira fase. Nesta fase, ? necess?rio ter aten??o ?s medidas de interesse e ao algoritmo utilizado para descobrir o conjunto de elementos largos.

Resumindo, a aplica??o de uma t?cnica de associa??o produz um conjunto de regras que descreve os padr?es descobertos nos dados, como por exemplo, tostas  ?  ?manteiga [suporte=20% e confian?a=75%], em que o suporte representa a frequ?ncia da exist?ncia dessa regra nos dados.

Consequentemente, quanto maior for o suporte mais prevalente ? a regra nos dados. Por sua vez, a confian?a mede a seguran?a de afirma??o da regra.

B. Regras de Associa??o aplicadas ? Prescri??o de Medicamentos Comparativamente a outros estudos realizados com dados  relativos a transac??es, um medicamento pode ser considerado como sendo um elemento de uma transac??o, enquanto que a prescri??o de uma receita pode ser considerada como sendo a transac??o. Como tal, o objectivo final na aplica??o de regras de associa??o ? prescri??o de medicamentos ? praticamente igual ao estudo nas transac??es, isto ?, descobrir se existe alguma associa??o entre a prescri??o de um medicamento relativamente a outro medicamento prescrito. Com este estudo ? poss?vel descobrir quais os medicamentos que s?o normalmente prescritos em conjunto e descobrir a sua for?a de rela??o. Atrav?s dos dados relativos ? prescri??o de medicamentos ? tamb?m poss?vel descobrir poss?veis rela??es entre os m?dicos prescritores e os laborat?rios associados aos medicamentos prescritos. Este estudo ? um pouco pertinente, no sentido em que permite descobrir se existe alguma tend?ncia dos m?dicos, relativamente aos laborat?rios associados aos medicamentos que usualmente prescrevem.



III. A DESCOBERTA DOS PADR?ES DE PRESCRI??O  A. As Fontes de Dados Todos os dados utilizados neste trabalho foram  disponibilizados pela Administra??o Regional de Sa?de do Norte (ARSN) e s?o relativos ? prescri??es de medicamentos da Regi?o Norte realizadas entre os dias 1 de Janeiro de 2008 e 31 de Dezembro de 2008, correspondendo a cerca de 21 milh?es de registos de dados. No entanto, este estudo foi limitado a uma amostra de menor dimens?o, tendo em considera??o os centros de sa?de e extens?es de alguns distritos, referenciados como representativos de toda a popula??o, no que diz respeito a caracter?sticas de desenvolvimento do concelho em que est?o inseridos - por exemplo, habilita??es e n?vel socioecon?mico.

TABELA I.  CENTROS DE SA?DE SELECCIONADOS  Distrito Centros de Sa?de  Aveiro Vale Cambra  Braga Fafe, Vila Verde e Terras de Bouro  Bragan?a Macedo de Cavaleiros e Vinhais  Porto Paranhos/Vale Formoso, Castelo da Maia, Bar?o do Corvo e Lousada Viana do Castelo Darque e Paredes de Coura  Vila Real Chaves 1 e St? Marta de Penagui?o    Concluindo, a amostra de dados utilizada equivale aproximadamente a 10% da amostra inicial dos dados, perfazendo um total de 2.261.955 registos. ? poss?vel verificar pela tabela I todos os centros de sa?de seleccionados, associados ao seu respectivo distrito. Cada registo ? referente a cada medicamento prescrito por um m?dico, associado a um c?digo de receita, referente a um determinado utente e a um respectivo local e data de prescri??o.

B. O Processo de Descoberta do Conhecimento A minera??o de dados ? encarada como sendo um passo  espec?fico da descoberta de conhecimento em base de dados ? Knowledge Discovery in Databases (KDD) -, que, essencialmente, consiste na aplica??o de algoritmos espec?ficos com vista ? descoberta de informa??o pertinente para um organismo [6,7]. Apesar da minera??o de dados ser considerada um passo espec?fico do todo o processo de KDD, ? aquele que tem recebido mais aten??o e assumido particular import?ncia quando comparada com o processo global em si.

No entanto, deve-se referir que nunca se deve esquecer o processo global, pois s? atrav?s da execu??o de todos os passos se consegue obter um resultado cred?vel, com algum impacto pr?tico e fornecendo conhecimento reconhecidamente ?til [6].

Consequentemente, para uma maior qualidade e impacto na aplica??o das t?cnicas de minera??o de dados, todos os passos do processo KDD foram cuidadosamente e meticulosamente seguidos neste trabalho, desde a selec??o, limpeza, pr?- processamento e transforma??o dos dados, passando pela aplica??o da minera??o de dados at? ? consequente interpreta??o e avalia??o dos resultados. Assim, numa primeira fase foi feita uma an?lise explorat?ria dos dados, com o intuito de analisar a qualidade dos dados em quest?o. De seguida, tendo em conta a an?lise realizada e o objectivo final deste trabalho, foram aplicados alguns processos de limpeza e selec??o dos dados, nos quais foram eliminados alguns registos, por incongru?ncias ou por estarem associados a ?medicamentos? irrelevantes para os estudos que se pretendia realizar.

Ap?s a realiza??o destes processos foi implementado um sistema de dados capaz de responder de forma mais adequada ?s necessidades impostas pela utiliza??o de t?cnicas de minera??o de dados e ?s v?rias perspectivas de an?lise apresentadas pelos gestores do organismo em quest?o. Como tal, foi implementado um pequeno sistema de data warehousing capaz de acolher tais estruturas e suportar futuros processos de an?lise e de tomada de decis?o. O povoamento deste sistema foi dividido em tr?s fases. Numa primeira fase, os dados foram extra?dos das fontes operacionais e integrados numa ?rea de reten??o de dados onde  foram sujeitos a diversas transforma??es, como defini??es e valida??es de chaves estrangeiras ou gest?o de chaves de substitui??o. Por fim, procedeu-se ? passagem dos dados da ?rea de reten??o para o data warehouse implementado. Na realidade cumpriu-se simplesmente as tarefas mais elementares para a integra??o de dados num data warehouse. O sistema de data warehousing implementado desenvolve-se em torno de um esquema estrela que integra 6 dimens?es de an?lise, nomeadamente:  ? DimTempo: Serve de marca temporal relativamente ? prescri??o dos medicamentos, sendo composta por atributos que actuam como marcadores temporais.

? DimPeriodo: Apesar de estar numa dimens?o ? parte da dimens?o tempo, esta dimens?o ? tamb?m um eixo de an?lise temporal, que permite analisar se uma prescri??o foi realizada num per?odo diurno (das 8h ?s 20h) ou nocturno (das 20h ?s 8h).

? DimMedico: Dmens?o que integra a informa??o dos m?dicos prescritores.

? DimLaboratorio: Toda a informa??o dos laborat?rios existentes ? guardada nesta dimens?o.

? DimUtente: ? guardado todo o tipo de informa??o que est? directamente relacionada com o utente.

? DimMedicamento: A informa??o relativa aos medicamentos ? guardada nesta dimens?o.

Al?m destas 6 dimens?es, a tabela de factos integra mais 9 dimens?es degeneradas e por 1 medida, que representa o n?mero total de medicamentos receitados por registo. O gr?o do data mart em quest?o corresponde aos medicamentos prescritos por um m?dico, a um dado utente, num respectivo local e numa dada data, per?odo e hora.

C. Software Utilizado e Fontes de Dados Por uma quest?o de estrat?gia de desenvolvimento e  facilidades de instala??o e explora??o, neste trabalho foram utilizadas, essencialmente, ferramentas open-source. Os dados foram recolhidos em formato .txt e integrados numa base de dados espec?fica implementada em MySQL v5.1. Este sistema acolheu tamb?m o data warehouse que foi constru?do especialmente para suportar os processos de minera??o projectados. Para a aplica??o da minera??o de dados ao modelo de dados final foi utilizado o RapidMiner v4.5 por ser uma ferramenta que apresenta uma grande variedade de op??es, sejam elas relativas a algoritmos implementados ou a opera??es de pr?-processamento dos dados. O facto de ser totalmente implementada em Java, permite o estabelecimento de liga??es directas ? base de dados atrav?s do conector JDBC (Java Database Connectivity). O grande inconveniente desta ferramenta ? a excessiva necessidade de mem?ria que requer, caracter?stica esta que se torna bastante not?ria ao trabalhar com um conjunto de dados com uma dimens?o consider?vel.



IV. RESULTADOS OBTIDOS O algoritmo de associa??o utilizado foi o FP-Growth  (Frequent Patttern Growth) [8]. A escolha deste algoritmo recaiu no facto de apresentar algumas vantagens em termos de implementa??o e de funcionamento quando comparado com o Apriori [9]. A efici?ncia deste algoritmo ? conseguida atrav?s da aplica??o de tr?s m?todos [8]:  ? Uma base de dados de grande dimens?o ? compactada numa estrutura bastante menor e mais condensada, que evita custos adicionais nos v?rios varrimentos a executar sobre a base de dados.

? A estrutura FP-Tree adopta um m?todo de padr?o de crescimento fragmentado que previne custos adicionais na cria??o de elevados conjuntos de candidatos.

? O m?todo de parti??o com base no algoritmo divide- and-conquer reduz drasticamente o espa?o de procura.

Uma grande vantagem do FP-Growth consiste no facto de s? ser necess?rio duas passagens pela base de dados. Na primeira passagem, todos os conjuntos frequentes e o seu respectivo suporte s?o calculados e guardados pela ordem descendente de suporte em cada transac??o. Na segunda passagem, os conjuntos de cada transac??o s?o juntos num    prefixo da ?rvore e s?o contados os conjuntos (nodos) comuns em diferentes transac??es. Cada novo nodo ? associado a um elemento e, depois, ? realizada a contagem para esse nodo. Os nodos comuns s?o ligados por um apontador designado node- link. Devido ao facto, de os elementos estarem distribu?dos descendentemente pelo valor de suporte, os nodos perto da raiz do prefixo da ?rvore s?o os mais comuns nas transac??es. Em suma, a escolha deste algoritmo prov?m, essencialmente, de que comparativamente com o Apriori o FP-Growth apresenta custos computacionais mais baixos e por ser um algoritmo confi?vel na descoberta de padr?es frequentes sejam eles pequenos ou grandes [10,11,12].

Neste trabalho foram realizados dois estudos diferentes na aplica??o das regras de associa??o ao modelo de dados. Um relativo ? associa??o entre os medicamentos prescritos e outro relativo ? poss?vel rela??o entre as prescri??es dos m?dicos e os laborat?rios prescritos. Ambos os estudos ser?o apresentados separadamente, devido ao caso de haverem pequenas diferen?as, tanto nas medidas de avalia??o de regras usadas, mas tamb?m nos eixos de an?lise necess?rios.

A. Associa??o entre os Medicamentos Prescritos O principal objectivo deste estudo era descobrir eventuais  associa??es entre as v?rias prescri??es de medicamentos, ou seja, sabe quando o medicamento  ?  X  ? prescrito em conjunto com o medicamento  ?  Y . Como referido, para fazer esse trabalho de descoberta utiliz?mos o algoritmo FP-Growth que para trabalhar correctamente precisa de um formato de dados especial: os dados t?m de estar agrupados pela transac??o e no formato binomial. Consequentemente, foi necess?rio fazer algum trabalho de pr?-processamento de dados, em especial fazer o seu agrupamento com base nas transac??es realizadas  - neste caso, isso corresponde ao c?digo da receita em quest?o.

Como ? especificado inicialmente, cada registo corresponde a um medicamento receitado apenas, independentemente de na receita associada for receitado mais do que um medicamento.

A resolu??o deste problema foi feita atrav?s de uma fun??o j? existente na biblioteca do MySQL, a fun??o GROUP_CONCAT(). Atrav?s desta fun??o os medicamentos foram agrupados, por receita, optando-se por fazer a sua separa??o atrav?s de uma v?rgula. De seguida foi necess?rio transformar os dados agrupados para o formato binomial atrav?s do RapidMiner - nesta ferramenta existe um operador designado ?Split?, capaz de transformar os dados agrupados nominais em formato binomial, apenas ? necess?rio informar qual o atributo em causa (medicamentos) e qual o separador (v?rgula). ? preciso ter tamb?m aten??o ao par?metro split_mode que dever? estar a unordered_split, uma vez que este ? o principal par?metro respons?vel pela transforma??o dos dados para o formato desejado. Depois dos dados j? se encontrarem no formato transaccional desejado, foi necess?rio aplicar os operadores respons?veis para a descoberta de regras de associa??o: primeiro o operador ?FPGrowth?, que ? respons?vel por descobrir os conjuntos frequentes, tendo sempre em considera??o o suporte m?nimo imposto; e de seguida o ?AssociationRuleGenerator?, que transforma os conjuntos frequentes em regras, com base na medida de avalia??o escolhida.

Para este estudo, o suporte m?nimo definido foi de 0.001, devido ao elevado n?mero de registos e da cardinalidade de medicamentos existentes. A medida de avalia??o escolhida na cria??o de regras foi a medida lift, tendo sido imposto que apenas as regras com um lift superior a 50 seriam apresentadas.

Isto indica que na regra  ?  A? B , o aparecimento do elemento  ?  A , encontra-se associado ao aparecimento do elemento  ?  B. De notar, que esta medida ? uma medida sim?trica [13], ao contr?rio da confian?a, e devido a esta caracter?stica ? que foi utilizada esta medida, pois a associa??o de dois ou mais medicamentos n?o depende em nada da ordem de prescri??o de cada um deles.

TABELA II.  UMA AMOSTRA DAS REGRAS DE ASSOCIA??O OBTIDAS (DISTRITOS/MEDICAMENTOS)  Regras de Associa??o Distritos  Regras Suporte Lift  Adalgur N ? Arthtotec 0.001 67.92 Aveiro  Vigantol ? Cebiolon 0.002 444.1  Ben-U-Ron ? Brufen Suspens?o 0.001 55.15  Atrovent Unidose ? Ventilan 0.002 94.22 Braga  Vigantol ? Cebiolon 0.001 248.5  Bragan?a Vigantol ? Cebiolon 0.001 436.5  Ben-U-Ron ? Brufen Suspens?o 0.002 54.26  Atrovent Unidose ? Ventilan 0.002 73.99  Relmus ? Voltaren 0.003 113.0  Vigantol ? Cebiolon 0.003 169.6  Porto  Profenid ? Relmus 0.001 69.72  Atrovent Unidose ? Ventilan 0.001 104.2  Relmus ? Voltaren 0.002 172.7 Viana do Castelo Profenid ? Relmus 0.001 188.5  Atrovent Unidose ? Ventilan 0.002 105.8 Vila Real  Vigantol ? Cebiolon 0.002 302.7    Concluindo, a medida lift ? uma medida sim?trica, que mede a co-ocorr?ncia de dois ou mais medicamentos [10] - o objectivo neste estudo.

Os resultados obtidos podem ser vistos na tabela II. Estes encontra-se separados por distritos, devido ?s limita??es de mem?ria RAM da m?quina. Como foi mencionado em cima, a ferramenta RapidMiner necessita de uma grande quantidade de memoria na execu??o de alguns operadores. E neste caso, devido ao excesso de registos, a utiliza??o do operador ?Split? s? p?de ser poss?vel realizando estudos individuais para cada um dos diferentes distritos.

B. Rela??o entre as Prescri??es dos M?dicos e os Laborat?rios No estudo da rela??o entre as prescri??es dos m?dicos e os  laborat?rios prescritos associados aos respectivos    medicamentos foi necess?rio, tamb?m, transformar os dados para o formato transaccional. Consequentemente tamb?m aqui foi utilizada a fun??o GROUP_CONCAT(), mas desta vez foram agrupados os m?dicos e os laborat?rios associados pelos respectivos c?digos de receita associados. Conclus?o, no final da aplica??o desta fun??o aos dados, foi obtido uma tabela com tr?s campos, um relativo ao c?digo de receita, outro relativo ao m?dico associado a essa receita e um ?ltimo campo com o(s) respectivo(s) laborat?rio(s) associados ao(s) medicamento(s) receitado(s). Devido ? exist?ncia deste dois eixos de an?lise (m?dicos e laborat?rios) foi necess?rio utilizar dois operadores ?Split? em vez de apenas um como se viu no primeiro estudo, em que cada um foi respons?vel por transformar os dados, correspondente a cada eixo, do formato nominal para binomial.

A defini??o dos par?metros para ambos os operadores ?Split? ? an?logo ? defini??o dos par?metros para o primeiro estudo.

TABELA III.  UMA AMOSTRA DAS REGRAS DE ASSOCIA??O OBTIDAS (M?DICOS/FARMAC?UTICAS)  Regras de Associa??o Regras Suporte Confian?a  Med_819674 ? Sanofi Aventis 0.001 0.200  Med_219975 ? Sanofi Aventis 0.001 0.200  Med_458534 ? Sanofi Aventis 0.001 0.203  Med_13734 ? Sanofi Aventis 0.001 0.203  Med_989878 ? Sanofi Aventis 0.001 0.207  Med_366277 ? Sanofi Aventis 0.001 0.207  Med_6370 ? Sanofi Aventis 0.001 0.208  Med_162131 ? Sanofi Aventis 0.001 0.208  Med_77941 ? Sanofi Aventis 0.001 0.209  Med_812629 ? Sanofi Aventis 0.001 0.211  Med_576377 ? Sanofi Aventis 0.002 0.212  Med_989879 ? Lab. Pfizer 0.002 0.212  Med_140121 ? Sanofi Aventis 0.002 0.214  (...) (...) (...) Obs.: Os c?digos dos m?dicos apresentados foram cifrados por forma a salvaguardar a sua identidade.

Ap?s estes passos de pr?-processamento aplic?mos o algoritmo FP-Growth ao modelo de dados final e seguidamente o operador mencionado em cima para a gera??o de regras, atrav?s dos conjuntos frequentes encontrados. Devido ? cardinalidade do n?mero de laborat?rios e m?dicos ser bastante inferior ? cardinalidade dos medicamentos, foi poss?vel apresentar os resultados em conjunto, ou seja, n?o foi necess?rio dividir o estudo em estudos mais pequenos divididos pelos distritos. Os resultados obtidos (tabela III) t?m como suporte m?nimo 0.001 e, para este estudo em particular, foi utilizada como medida de cria??o de regras a confian?a.

Neste caso a confian?a apresenta uma medida com muito mais signific?ncia, devido ao facto do nosso objectivo ser descobrir se existe alguma rela??o entre a prescri??o dos m?dicos e os laborat?rios prescritos. Isto ?, uma regra do tipo  ?  A? B  significa que o m?dico  ?  A  prescreve o laborat?rio  ?  B com  ?  c% de confian?a, independentemente do laborat?rio  ?  B  ser prescrito por outros m?dicos diferentes [3]. Logo, o antecedente da regra n?o tem praticamente efeito na ocorr?ncia do consequente da regra. A confian?a m?nima imposta foi de 0.20, pois o facto de 20% das prescri??es de um determinado m?dico serem relativas a um determinado laborat?rio, ? j? considerado algo razoavelmente interessante.



V. CONCLUS?ES E TRABALHO FUTURO Neste trabalho apresent?mos um estudos sobre a descoberta  de padr?es de prescri??o de medicamentos na regi?o Norte de Portugal, apelando a t?cnicas de minera??o de dados, mais propriamente ?s relacionadas com a descoberta de regras de associa??o em sistemas de dados. Do conjunto de dados disponibilizado inicialmente pela ARSN apenas se utilizaram cerca de 10% dos registos desse volume, uma vez que o estudo a desenvolver envolvia apenas um conjunto seleccionado de centros de sa?de. Todavia, os dados considerados nos estudos realizados foram claramente suficientes para a aplica??o efectiva dos modelos e das t?cnicas de minera??o desejadas para o nosso organismo alvo. Os resultados foram j? apresentados ? entidade respons?vel pela disponibiliza??o dos dados, a ARSN, que interessantemente, concluiu a veracidade pr?tica de alguns dos resultados apresentados neste artigo.

Apesar de ser ainda um primeiro trabalho de an?lise ? um pouco superficial em alguns aspectos ? permitiu fazer a descoberta de alguns padr?es muito interessantes e revelar alguns casos interessantes que merecem, com certeza, maior reflex?o que a que foi dada por este trabalho. Assim, refira-se que no primeiro estudo seria bastante interessante no futuro alargar o seu ?mbito a mais distritos. Apesar de inicialmente termos pretendido todo o conjunto de dados em geral, isso n?o foi poss?vel devido ?s limita??es das plataformas computacionais utilizadas. Relativamente ao segundo estudo, os resultados s?o um pouco influenciados por um dos problemas da base de dados: a descri??o dos laborat?rios. Isto ?, o laborat?rio Sanofi Aventis, por exemplo, ? um laborat?rio que produz medicamentos em quase todas as ?reas de sa?de, e nesse caso, a diferencia??o do nome na descri??o do laborat?rio na base de dados, iria, com certeza, permitir uma maior informa??o e menor ambiguidade na interpreta??o dos resultados por laborat?rio ? ex.: apesar de na tabela III os laborat?rios relativos ? descri??o Sanofi Aventis terem o mesmo nome, isso n?o significa que sejam o ?mesmo? laborat?rio.

Facilmente se verifica que, este trabalho ainda tem uma grande margem de progress?o e isso seria algo realmente a ter em conta num futuro pr?ximo. A aplica??o de t?cnicas de minera??o de dados na ?rea da sa?de tem apresentado resultados bastante interessantes e fornecedores de bastante informa??o pertinente. Assim, o estudo em dados relativos ? prescri??o de medicamentos, n?o s? vem colmatar uma grande falta de estudos nesta ?rea, mas tamb?m pode ser respons?vel por um conjunto de informa??o de grande utilidade para o mundo real e para a rentabiliza??o dos servi?os dos organismos de sa?de.

AGRADECIMENTOS Quer?amos deixar expressos os nossos agradecimentos ?  ARSN pela disponibiliza??o dos dados utilizados neste trabalho e pela ajuda fornecida ao longo da sua realiza??o.

REFER?NCIAS [1] M. Lloyd-Williams, J. Jenkins, H. Howden-Leach, R. Mathur, I. Cook e  C. Morris, ?Knowledge Discovery in an Infertility Database Using Artificial Neural Networks,? IEE Colloquium on Knowledge Discovery in Databases , vol. 21, pp. 1?3, February 1995.

[2] S. Sumathi e S. N. Sivanandam, ?Introduction to Data Mining and its Applications (Studies in Computational Intelligence),?  Springer-Verlag New York, Inc., 2006.

[3] A. Tom?, P. Broeiro e A. Faria-Vaz, ?Os Sistemas de Prescri??o Electr?nica,? Associa??o Portuguesa dos M?dicos de Cl?nica Geral, vol.

24, pp. 632?640,  2008.

[4] C. M. Carvalho, ?Prescri??o de Antibi?ticos nos Centros de Sa?de da Regi?o de Sa?de do Norte: Padr?o e Variabilidade Geogr?fica,? Disserta??o de Mestrado pela Faculdade de Medicina ? Universidade do Porto, 2008.

[5] R. Agrawal, T. Imielinski e A. Swami, ?Mining Association Rules between Sets of Items in Large Databases,? SIGMOD ?93: Proceedings of Data, vol. 12, pp. 207?216, 1993.

[6] U. Fayyad, G. Piatetsky-Shapiro e P. Smyth, ?The KDD Process for Extracting Useful Knowledge from Volumes of Data,? Communications of the ACM, vol. 39, pp. 27?34, 1996.

[7] U. Fayyad, G. Piatetsky-Shapiro e P Smyth, ?From Data Mining to Knowledge Discovery in Databases,? AI Magazine, vol. 13, pp. 37?54, 1996.

[8] J. Han, P. Jian e Y. Yin, ?Mining Frequent Patterns without Candidate Generation,? SIGMOD ?00: Proceedings of the 2000 ACM SIGMOD  [9] Wu et al. 2008, ?Top 10 Algorithms in Data Mining,? Knowledge and Information Systems, vol. 14, pp. 1?37, 2008.

[10] J. Han e M. Kamber, ?Data Mining: Concepts and Tecnhiques (2nd Edition),? Morgan Kaufmann, 2006.

[11] J. Hipp, U. G?ntzer e G. Nakhaeizaadeh, ?Algorithms for Association Rule Mining ? A General Survey and Comparison,? ACM SIGKDD Explorations Newsletter, vol. 2, pp. 58?64, 2000.

[12] Z. Zheng, R. Kohavi e L. Mason, ?Real World Performance of Association Rule Algorithms,? KDD ?01: Proceedings of the seventh Data Mining, pp. 401?406, 2001.

[13] M. Hashler e K. Hornik, ?New Probabilistic Interest Measures for Association Rules,? Intelligent Data Analysis, vol. 11, pp. 437?455, 2007.


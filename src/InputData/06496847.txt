

Abstract? The Radiation Belt Storm Probes (RBSP) mission is  part of NASA?s Living With a Star Program, and launched  August 30, 2012. The fundamental goal of the mission is to  provide an understanding, ideally to the point of predictability,  of how populations of relativistic electrons and penetrating  ions in space form or change in response to variable inputs of  energy from the Sun.  The mission consists of two nearly-  identical observatories launched into highly-elliptical Earth  orbits, as well as the ground and data systems necessary to  return and distribute science and housekeeping data and  provide command and control of the space systems.  The two  observatories launched aboard a single Atlas V 401 launch  vehicle, and were placed in orbits that cause one observatory to  lap the other approximately four times per year.  This mission  design enables an investigation of both spatial and temporal  effects within the radiation belts using only two observatories,  and the two year science mission allows an investigation of all  local time positions and interaction regions.  Each Observatory  contains a suite of instruments to study ions, electrons and the  local magnetic and electric fields.  An overview of the RBSP  mission is presented with an emphasis on the fault  management system design.  The goal of the RBSP fault  management system is to be as simple as possible while 1)  ensuring that the observatory is capable of detecting,  correcting, and recovering from any single, recoverable  anomaly that affects the health and safety of the observatory  and 2) the observatory meets the overall mission concept and  mission goals.  Five high-level requirements that define the  fault management redundancy, modes/safing, and ground  intervention concepts will be presented to demonstrate that  despite using a relatively simple architecture, the RBSP fault  management system allows for mission goals to be met.

TABLE OF CONTENTS  1 INTRODUCTION ........................................ 1  1.1 Mission Summary ................................... 1 1.2 Mission and Spacecraft Overview .......... 1  2 FAULT MANAGEMENT DESIGN ...................... 4  2.1 FM Definition/Objectives ....................... 4 2.2 Process for FM Development ................. 4 2.3 FM Design Drivers ................................. 4  2.3.1 Orbit/Spacecraft Design ................... 5 2.3.2 Environment ..................................... 5  2.4 Overview of FM Architecture ................ 6 2.4.1 Redundancy Concept ....................... 6 2.4.2 Modes and Safing Concept .............. 7 2.4.3 Ground Intervention Concept .......... 9  3 VERIFICATION ........................................ 10  4 CONCLUSION ........................................... 12  5 REFERENCES ........................................... 12  1 INTRODUCTION  1.1 Mission Summary  NASA?s RBSP mission is a dual observatory mission that studies variations in solar activity and how this affects the earth?s environment as well as human activities in space and on the ground.[1]  This will improve our overall knowledge of the radiation belts and how they respond to solar storms and events. Particles accelerate through the radiation belts in unpredictable ways and scientists need more data to develop and improve current models of this important area surrounding the Earth. The on-board instruments measure high and low energy electrons and protons, ion composition, and electric and magnetic fields using the Energetic Particle Composition and Thermal Plasma Suite, the Electric and Magnetic Field Instrument Suite, Proton Spectrometer, Electric Field and Waves Instrument, and the Ion Composition Experiment.

1.2 Mission and Spacecraft Overview  The RBSP mission is comprised of twin observatories that are identically instrumented. They launched stacked together on a single launch vehicle. The mission design provides orbits for each observatory that maximize observation time in the Van Allen radiation belts to collect science data and space weather data.

The observatories are designed to operate and survive in the harsh radiation belt environment using shielding for electronics as well as radiation hardened parts and circuitry.

[2]  The observatories spin at a nominal spin rate of 5.5 rpm to provide the fields-of-view (FOV) required for the instruments to make their respective measurements.  The observatories downlink an average daily data volume of 6.4 Gbits of recorded data, plus real time data, throughout the operational phase of the mission.  This data is received by the 60 foot dish at the APL ground station each day as the observatories pass overhead.

The spacecraft launched on a single EELV Atlas V-401 launch vehicle from Kennedy Space Center on August 30, 2012. The launch vehicle spun up, released each observatory separately, and oriented each observatory with solar arrays pointed to the sun. Both observatories operate in        highly elliptical orbits in order to spend a substantial part of the mission life in the Van Allen radiation belts. The two orbits have apogee altitudes between 30,050 and 31,250 km, perigee altitudes between 500 and 675 km, and inclination of 10 degrees. The observatories are phased such that one laps the other approximately four times per year. Each observatory, as depicted in Figure 1, is designed for an on- orbit life of 2 years and 74 days. This encompasses a 60-day commissioning period post launch, a 2-year science mission, and a 14-day decommissioning period at end of life. Spacecraft decommissioning includes a delta-V maneuver to lower the perigee and a precession maneuver to orient the solar arrays away from the sun; each spacecraft will be disposed of via uncontrolled atmospheric re-entry within 5 months. The 2-year science mission provides sufficient local time, altitude, and event coverage to improve the understanding of, and determine the relative significance of the various mechanisms that operate within the radiation belts and their individual and collective effects.

Figure 1:  RBSP observatory  The observatories operate independently in a spin stabilized mode with a 5.5 RPM nominal spin rate; the spin axis is maintained between 15 and 27 degree off pointing from the sun. Each observatory has four deployed solar array panels and eight deployed instrument booms. Two 40 m and two 50 m spin plane booms provide AC and DC electric field measurements, two 6 m axial booms (12 m tip-to-tip) provide 3D electric field measurements, and two magnetometer booms extend an additional 2 m beyond the solar array panels. Figure 2 shows the observatory in a fully deployed configuration and Figure 3 shows the spacecraft bus with accommodation of the instruments and their FOVs.

The observatories are nearly identical and comprised of mechanical/structural components, avionics, RF telecommunications, power generation and storage, power distribution, propulsion, guidance and control, thermal, flight software, and harness subsystems. Figure 4 shows the observatory block diagram, with the functional elements of the observatory and the interfaces and connectivity between the spacecraft and instrument components.

Figure 2:  RBSP observatory fully deployed     Figure 3:  RBSP spacecraft bus with instrument FOVs   The mechanical subsystem includes primary and secondary structure (central cylinder and structural panels), mechanisms, deployables, and a separation system. The primary structure is a forged aluminum cylinder; the panels and decks are honeycomb with aluminum facesheet with cutouts for booms, instrument apertures, power shunts, thrusters, and Sun sensors. The octagonal cylinder is 1.3 m high and 1.8 m in diameter.

The guidance and control (G&C) subsystem consists of a Sun sensor, the science magnetometer for attitude reconstruction on the ground, and blow down monopropellant hydrazine propulsion system for attitude control, spin rate change, Delta-V, and de-orbit maneuvers.

The observatories are spin-stabilized, with a spin rate of approximately 5.5 RPM and a spin axis pointing towards the Sun. The observatories have no on-board software to estimate or control attitude or orbits, therefore all attitude maintenance maneuvers are performed open loop. Attitude sensor information from the Sun sensors is stored on-board the satellite and downlinked during the ground contact periods. Control maneuvers are planned on the ground, designed into canned executable sequences, uploaded to the satellite, and executed based on the planned timeline.

Figure 4:  Observatory Block Diagram   The avionics subsystem comprises the hardware command and data handling functions in a single spacecraft bus component, the Integrated Electronics Model (IEM). The IEM is a card cage design based upon the 6U Compact PCI (cPCI) form factor. The IEM consists of five cards connected across a common backplane. A 32-bit PCI bus, clocked at 16.5 MHz, connects the Single Board Computer (SBC), Solid-State Recorder (SSR) and Spacecraft Interface Card (SCIF) for flow of commands and telemetry. The SBC is a BAE RAD750 based design, clocked at 33 MHz for 50 MIPS (nominal) with 16 MB of Synchronous Random Access Memory (SRAM), 4 MB of Electrically Erasable Programmable Read Only Memory (EEPROM) and 64 kB of Programmable Read Only Memory (PROM). The SSR contains 16 Gb of Synchronous Dynamic Random-Access Memory (SDRAM) memory with Error Detection and Correction (EDAC) and hardware scrubbing. The selected SDRAM has a low upset rate (even in the RBSP environment); the few SDRAM errors that are expected will be corrected by SSR EDAC.

The onboard flight software provides the following functionality: command uplink, spacecraft command management, autonomy rule processing, command macro management, spacecraft time-tag command management, SSR management, telemetry management, downlink  management, and spacecraft-to-instrument hardware interface management.  The remaining two IEM cards include a telemetry card which gathers temperature, analog and discrete data and a DC-DC converter card which provides regulated secondary voltages derived from the spacecraft primary power bus and implements the box off- pulse capability.

The observatories utilize a Direct Energy Transfer (DET) power system. The power bus voltage varies with the eight- cell Lithium Ion (Li-Ion) battery voltage. The power system consists of the Power System Electronics (PSE), Battery Management Electronics (BME), Solar Array Junction Box (SAJB), 50AH Li-Ion battery, and four deployed solar array panels. The Power Distribution Unit (PDU) provides the switched, unswitched, and pulsed power to the observatory components. The PDU receives primary power from the PSE and has a serial Universal Asynchronous Receiver- Transmitter (UART) command/telemetry interface with the IEM. The PDU is a modular slice design, with each slice consisting of a printed circuit board housed in a mechanical frame, stacked and bolted together. The slices electrically connect using internal rigid-flex connectors for signals. A wiring harness external to the box is used for power connections.

The Radio Frequency (RF) system operates at S-band, with unique uplink and downlink frequencies for each observatory. The RF system is sized to enable downlink of at least 6.7 Gb of data per day per spacecraft, including real- time housekeeping telemetry, during the operational phase of the mission. To meet data return requirements, the RF system provides data rates up to 2 Mbps. The data rate can change during a ground contact in order to accommodate different link parameters due to the changing spacecraft range to the ground station.

The observatories utilize a cold-biased passive thermal control design system to maintain the on-board electronics and instruments on-board within their required temperature limits. The majority of the electronics boxes are hard mounted to the inside of the spacecraft panels and decks with their internal heat going into the spacecraft structure.

Local radiators on the side panels and bottom deck control the amount of heat lost to the space. Multi-Layer Insulation (MLI) blankets cover the majority of the outside of the spacecraft, especially on the top deck to insulate the observatory from the Sun. Heater circuits on all the panels and decks are installed to protect the observatories from getting too cold. Very little heater power is required on- orbit, and the heater circuits are provided as a fail-safe device. A few observatory components, such as the Li-Ion battery and several instruments, are thermally isolated from the spacecraft and have individual radiators, blankets and heaters.

2 Fault Management Design  2.1 FM Definition /Objectives  Fault Management (FM) is defined as the functional requirements distributed throughout the observatory and ground that enable detection, isolation, and recovery from events that upset nominal operations. The goal of the FM system is to achieve mission reliability objectives without violating program resources. FM must achieve this goal by balancing project risk and the cost of developing, testing, and operating the Fault Management System (FMS).

The RBSP FMS is a distributed system with allocations to hardware, flight software, rule-based autonomy, and ground/mission operations. The RBSP FM design uses both ?active? and ?passive? features to deal with potential faults.

Active features include actions taken on-board the observatory that are implemented with hardware, software, or a combination of the two, whereas passive features include design decisions and development practices to minimize the probability that a fault occurs. The overall goal for the on-board FMS is to be as simple as possible while ensuring that 1) the observatory is capable of detecting, correcting, and recovering from any single,  recoverable anomaly that affects health and safety and 2) the observatory meets the overall mission concept and mission goals.

2.2 Process for FM Development  RBSP follows the Fault Management Engineering Process, which is documented within JHU/APL?s Quality Management System (QMS). The FM engineering Process prescribes a systematic approach to FM with collaboration among all members of the systems engineering team, subsystem leads, and mission operations, from Phase A through Phase E.

Figure 5 depicts the high-level engineering process used in the development of the FM system for RBSP. Capturing distinctive mission design elements is critical to successfully developing the FMS, since it focuses the engineering team on what needs to be done differently in comparison with past missions. A significant portion of the early FM design approach focuses on describing the key mission design characteristics and possible advantages the mission design may offer in the design of the FMS. The RBSP top-level FM architecture also includes the redundancy concept, modes and safing concept, ground intervention concept, and critical sequences, as guided by the FM engineering process.  Reliability analyses play an important role in the development of the FMS by identifying potential faults and failures and analyzing the impact of cross-cutting faults and failures on the planned protection schemes in a comprehensive framework. The reliability analyses are used in an iterative manner, to ensure the quantity and impact of potential faults are minimized, completeness of the FM design, as well as to enable system efficiency in design and fault response.

2.3 FM Design Drivers  The RBSP FM design takes advantage of inherent mission design characteristics to reduce complexity, but a number of design drivers also influence the design. The near-Sun pointed, spin-stabilized design offers a number of advantages, while the extreme radiation environment, project cost constraints, and the NASA risk classification drive several unique features within the FMS. These design characteristics and drivers result in five high-level requirements that govern the overall RBSP FM design and from which lower-level FM concepts and requirements are derived. These high-level requirements include selective fault tolerance, minimized on-board fault management, layered fault management for maximum science, limited instrument fault management, and off-pulse capability for unswitched electronics and map into the fault management concepts for redundancy, modes and safing, and ground intervention.

Spacecraft Fault Management System Development Process  S p  a c  e c ra  ft   S u  b s  y s te  m F  a u  lt M  a n  a g  e m  e n  t S  y s te  m R  e li a b  il it  y S  y s  te m  s   E n  g in  e e  ri n  g R  e v  ie w  s  Pre-Phase A Phase A Phase B Phase C Phase D Phase E  FM Conceptual Design  Development FM Design  FM System Test Execution  Long Term  Trending Review  Subsystem  Requirements Development  FM System Test Procedure Development  FM Design Approach  Development  Subsystem Design  FM Requirements Development  Subsystem  Implementation  FM Test Planning  Fault Analysis (PRA/FMEA), Trade Studies and SPF List Generation  MOps Support  FM System Verification  FM Test Plan w/ Incompressible Test List  FM Design Specification  FM Test Reports  FM Test Procedures  Trending Review Memos  FM Verification Planning  FM Architecture Document -Mission Design Impacts -Critical Sequences -Redundancy Philosophy -Safing Strategy -Ground Intervention  FM Verification Plan w/ Verification Matrix  Verified Requirements Matrix  Capture Lessons  Learned  FM Lessons Learned  Fault Management Req?s Document:  Flight Software FM Req?s Hardware FM Req?s  Ground/MOps  FM Req?s Autonomy FM Req?s  Flight Ready Fault Management  System  Subsystem Testing  Mission Technical Concept  Development  Mission Requirements  Development Spacecraft Design Spacecraft Integration and Test Activities Flight Activities  CDR  FMTRRFMPDR  CERRMCR  FMCERRFMCDR  SIR TRR ORRPDR PSR  FMAR  SRR/MDR  Subsystem Verification  Key  Process  FM Product  Project-Level Review  FM Review    Figure 5:  Fault Management Engineering Process  2.3.1 Orbit/Spacecraft Design  The nominal orientation of the observatory maintains the spin axis within a specified range of angles from the Sun line (15 ? 27 deg). The allowable range of Sun offset angles is determined by minimum and maximum offsets from the ecliptic plane (N-S) and in the ecliptic plane (E-W).

Propulsive maneuvers are performed periodically to maintain this near Sun-pointing attitude as the Earth (and observatories) move around the Sun. The spin axis drifts from a maximum total offset, through a minimum offset (equal to the N-S offset), back to the maximum between precession maneuvers as shown in  Figure 6. The sizes of the offset angles determine how often precession maneuvers are performed (approximately every 21 days).

Figure 6:  Sun Offset Angles  The G&C subsystem design takes advantage of the near-Sun pointed, spin-stabilized design by utilizing an open-loop architecture for the guidance and control functions. The observatories have no on-board software to estimate or control attitude or orbit, and attitude changes are performed by the ground with open-loop commanding of the on-board thrusters, thus greatly simplifying on-board FM.

2.3.2 Environment  The severe environment in which the observatories spend the majority of their time is a significant design driver: each observatory is designed for the challenging environmental requirements imposed by its orbit in the Van Allen Radiation Belts. The risk to electronic hardware is high since both observatories spend most of the mission life at high-risk altitudes to perform the science measurements.

The environment causes high total ionizing dose and single event effects due to radiation as well as surface charging and deep dielectric charging/discharging on electrical hardware. The spacecraft and instrument subsystems and components operate continuously while the observatories transit through the heart of the inner-trapped proton Van Allen belt twice every ~9 hour orbit for the nominal 2 year +74 day mission. These energetic (up to hundreds of MeV) protons provide the majority of the penetrating dose and all of the displacement damage. The second major contribution to the total radiation dose is the outer belt trapped electrons that bombard the observatories during the long exposures near apogee.

Since RBSP is a mostly single-string mission, several passive FM features are designed into the system to deal with these environmental effects. First, electronics boxes have additional shielding. Second, the radiation-hard parts program required devices to be tested to at least 50 krads (Si), with the required hardness based on chassis wall thickness and use of spot shielding. All integrated circuits are designed to be latch-up immune. Third, first circuit interfaces are hardened to survive deep dielectric discharge pulses in the spacecraft harness. Fourth, in order to enable sensitive science measurements, the spacecraft are designed with features to reduce spacecraft internal and surface charging, so that the spacecraft-generated fields will not contaminate the electric and magnetic fields being measured. In addition to these passive features, the FMS also employs an off-pulsing scheme to mitigate against the effects of discharges inside spacecraft components, discussed in detail later in this paper.

2.4 Overview of FM Architecture  In addition to the design characteristics and drivers that influence the FM architecture, the RBSP FMS includes a redundancy concept, modes and safing concept, and ground intervention concept. Each of these concepts are explained in detail in the following sections.

2.4.1 Redundancy Concept  All NASA-sponsored missions are required to adhere to the NASA procedural document 8705.4, Risk Classification for NASA Payloads, which provides general redundancy requirements based on the mission risk classification.

However, the document leaves it to the engineering team to decide how best to implement redundancy requirements.

The RBSP mission is classified as risk category C. As such, critical single-point failures (SPFs) for Level 1 requirements may be permitted, but are mitigated by use of high reliability parts, additional testing, or by other means; in addition, single string and selectively redundant design approaches may be used. The RBSP program abided by a selective fault tolerance posture to maximize reliability while minimizing cost and complexity. Fault tolerance for RBSP was directed at increasing the reliability of critical sequences, high-risk parts prone to failure, parts with failure modes due to the environment, or parts with movable components; redundancy was not used to increase the lifetime of limited-life items. The end result was a single- string architecture for RBSP with fault tolerance, as identified in Table 1 (note: degraded performance is highlighted in yellow). Fault tolerance options were identified through engineering rigor and the use of the fault analysis techniques such as probabilistic risk assessment (PRA) and failure modes and effects analysis (FMEA).

These fault analysis techniques are used to systematically evaluate the benefit of redundancy, fault tolerance, and mitigation strategies. The decision to use fault tolerance was made by examining the reliability improvement, cost, complexity, and mission criticality.

Table 1:  RBSP Selective Fault Tolerance  Function Redundancy/  Fault Tolerance  Description  Spacecraft Separation Indication  ? Fault tolerant separation switches  ? 3 of 4 separation switches required  Deployments ? Redundant deployment for Mag Boom and Search Coil  ? 1 of 2 actuators required (for each)    ? Redundant deployment for solar panel  ? Redundant EFW AXB and SPB deployment enables  ? 1 of 2 actuators required (for each)    ? 1 of 2 boom enables required (for each)  Data Storage ? Fault tolerant SSR memory banks       ? Failed SSR  ? Failure of an SSR memory bank impacts the amount of data stored (half the recorder lost), but SSR would still function  ? IEM continues to function without SSR; mission severely degraded  Latch Valves ? Cross-over latch valve  ? 2 of 3 latches valves required  Precession Maneuvers  ? Redundant catbed heaters  ? Redundant thruster groups  ? 1 thruster control group could fail and still perform nominal precession  Delta-V Maneuvers (+Z)  ? Redundant catbed heaters  ? Fault tolerant thruster groups  ? 1 thruster control group could fail and still perform degraded +Z maneuver  Delta-V Maneuvers (- Z)  ? Redundant catbed heaters  ? Fault tolerant thruster groups  ? 1 thruster control group could fail and still perform degraded -Z maneuver  Spin-Rate Maneuvers  ? Redundant catbed heaters  ? Fault tolerant thruster groups  ? 1 thruster control group could fail and still perform degraded spin- rate maneuver  Sun Sensor  ? Redundant sensor heads  ? 1 of 2 heads needed for spin pulse  Sun Sensor  ? Back-up sun pulse from spin timer (not adequate for full science)  ? Mitigates spurious pulses on Sun Sensor output  Telecomm ? Antennas ? Failure of antenna reduces availability by 50%  PDU ? Redundant safety enabled buses   ? Redundant wires for select loads  ? Redundant operation of actuators, thrusters, SSPA, and SAJB  ? Redundant wires for HOPE, REPT, RPS, IEM, PDU, XCVR, thruster valves, and latch valves  Power Generation  ? Spare solar string ? Power design is tolerant of one failed solar string without loss in mission performance  Power Generation  ? Battery cell   ? Power design is tolerant of one failed battery cell with possible degraded performance        Function Redundancy/  Fault Tolerance  Description  Power Management  ? Spare shunt      ? Redundant relays to connect battery to power bus   ? Fault tolerant VT controllers  ? Power design is tolerant of one failed shunt without loss in mission performance  ? 1 of 2 relays needed to connect battery to power bus   ? 2 of 3 VT controllers are required for majority voter  Power Management  ? PSE Interface Card  ? Battery Management Electronics  ? Current Controller  ? Power system has reduced functionality and battery performance may be affected if PSE Interface Card,  Battery Management Electronics, or Current Controller fail  Thermal Control  ? Fully redundant dual element battery heaters with series redundant thermostats    ? Fault tolerant heaters and heater layout  ? Unswitched instrument heaters with series redundant thermostats  ? 1 of 2 battery heaters needed; series redundant thermostats protect against thermostat failed closed condition   ? Protects against heater failing open  ? Series redundant thermostats protect against thermostat failed closed condition  Flight Software  ? Two copies ? Identical copies of the image are stored in EEPROM  Mission Science  ? Fault isolation in EFW electronics         ? Fault isolation in EMFISIS electronics     ? Ensures E-field signals available to EMFISIS if EFW digital electronics fail; EFW analog sensors separately powered and isolated from digital electronics  ? Ensures  magnetic field signals available to EFW if EMFISIS digital electronics fail; EMFISIS Fluxgate Magnetometer and Search Coil sensors must still work  2.4.2 Modes and Safing Concept  Another component of the FM architecture is the development of the modes of operation and  the safing strategy in the event of critical faults. The term safing refers to an onboard autonomous activity that occurs after a major fault is detected; it demotes the observatory to its most basic functionality to maximize the potential for survival until the next ground contact. The observatory safing strategy is important to reducing mission risk. Due to its importance, the RBSP modes and safing strategy clearly presents two pieces of information to properly guide the FMS development process. First, the modes and safing strategy presents the objectives of each mode. Second, the modes and safing strategy clearly states the mode transitions and the types of faults that cause entry into safe mode. It should also be noted that the modes and safing strategy decision  process flows from a strong understanding of the mission design and the critical sequences.

In the end, the decision of how and when to safe a spacecraft affects the requirements for the spacecraft hardware, software, autonomy, and ground operations and helps to determine the FM modes. Another consideration the FM lead engineer should make in designing the safing strategy is including a ?safety net? to capture unknown fault conditions. Despite the robust fault analysis tools, the FM lead engineer and larger engineering team must acknowledge a ?lack of imagination? in identifying every fault (single fault, common cause failures, unintended subsystem interactions, multiple synchronous failures) and every necessary response for all phases of the mission. A robust safety net that can reset the entire system and/or cycle through all redundant components in a last-ditch effort to recover the spacecraft to a safe state should be included in the FM safing strategy. Nonetheless, the FM lead engineer should not make the safety net overly complex, as it can unnecessarily tax the design, implementation, and test resources allocated to the FMS development without providing a clear benefit.

To reduce the complexity of the RBSP FMS, the goal was to have the least number of modes possible to safely perform the mission. By design, the RBSP observatories are in a safe state. The observatories are inherently stable, near-Sun pointing spinners, which require only periodic attitude precession maneuvers performed via an open-loop attitude control system. These inherent mission design characteristics and observatory design decisions result in a simplified safing concept for the mission, as compared to more complicated missions with 3-axis stabilized attitude control. Two modes have been identified for RBSP: Operational and Safe.  Operational Mode is the primary mode for the observatory and is used from launch through the end of the mission, unless the observatory encounters a life-threatening fault condition. When possible, the observatory ?flies through? faults or ?fails operational,? meaning that non-critical faults leave the observatory in Operational Mode. These faults are handled by the on-board FMS or by the ground during subsequent ground passes.

The occurrence of a critical fault (e.g., low voltage sense, low battery state of charge, expiration of hardware command loss timer, or violation of maximum Sun-line angle) causes a transition to Safe Mode. The goal of Safe Mode is to autonomously place the spacecraft into a known communication-safe, power-preserving configuration so that ground operations has time to identify and recover from the fault. The transition from Safe Mode back to Operational Mode is performed by ground command only.  The RBSP  FM modes diagram is shown in Figure 7.

Figure 7:  RBSP Fault Management Modes Diagram    2.4.2.1 Layered Fault Management for Maximum Science Data Collection  Three of the high-level requirements that drive the RBSP FM design flow into the modes and safing concept. The first of these high-level requirements is layered FM to maximize science data collection. The mission is designed for concurrent particle and magnetic field, electric field, plasma density, and interferometric timing measurements. In order to meet these science measurement goals, the FMS utilizes a layered approach in order to maximize science data collection in the event of a fault. Faults are categorized by severity, with the goal of quickly detecting and responding to less severe, isolated faults with minimum interruption to science data collection, and ensuring a power-safe and communication-safe observatory for more severe, time- critical faults through a system-wide response. Various fault analysis tools such as FMEA and PRA are used to identify and categorize faults.

Less severe faults are categorized as faults where the cause is more easily identified and isolated to a particular subsystem. These faults are treated locally at the subsystem level either by on-board FM (i.e., hardware, flight software, or rule-based autonomy) or by the ground during the subsequent ground passes. For faults that are handled on- board, the FMS detects the fault and the action taken allows  the system to have limited or no interruption to Operational Mode in which science data is collected; the ground is responsible for identifying and correcting the problem during subsequent ground passes. For faults that are handled by the ground, provisions have been made that allow the ground to reset or off-pulse specific components through critical command decoder (CCD) and/or flight software commands.

More severe faults are categorized as faults where the cause is less easily identified and could be attributed to one or more subsystems; in addition, these faults are more time- critical in that lack of immediate action could cause a mission-ending failure. For faults identified as severe, the on-board FMS detects the fault and the observatory is demoted to Safe Mode. Safe Mode is a more global response that is reserved for faults that require a system- level response with the goal of preserving observatory power and ensuring communication.

2.4.2.2 Off-Pulsing Architecture  The next high-level requirement that drives the modes and safing approach is off-pulsing for unswitched electronics.

Since RBSP is a mostly single-string mission, critical components (i.e., IEM, PDU, and transceiver) are powered using unswitched power services so that they cannot be turned off once the spacecraft is powered up. However, the        extreme radiation environment could induce faults in these components that can only be cleared by the removal and re- application of power (termed ?off-pulsing?). The FMS implements an off-pulsing architecture that provides off- pulsing capabilities to clear faults in the transceiver, IEM, and PDU. Mechanisms are provided to allow individual off- pulsing of any of these components in Operational Mode. In addition, to address a safety net for unknown faults, the FMS can reset the entire system by off-pulsing all three of these critical components simultaneously in Safe Mode. In general, the off-pulsing of any single component is handled in Operational Mode as a response to a less severe fault, while the off-pulsing of all three components is handled in Safe Mode as a response to the expiration of the hardware command loss timer (i.e., the spacecraft has not received a specific command from the ground in 3.6 days).

All off-pulse requests are routed through the PDU, with the PDU implementing a specific hardware command sequence for each off-pulse type. The off-pulse mechanism is designed to be fault-tolerant with a single fault resulting in, at most, a single off-pulse cycle.  The FM architecture utilizes the following off-pulse requests: IEM request to off- pulse transceiver (via software command loss timer [SWCLT]), transceiver request to off-pulse IEM (via RF CCD command), transceiver request of off-pulse PDU (via RF CCD command), and hardware command loss timer (HWCLT) request to off-pulse PDU, IEM, and transceiver as shown in Figure 8.

Figure 8:  Top Level Off-Pulsing Architecture  2.4.2.3 Limited Instrument Fault Management  The final high-level requirement that drives the modes and safing approach is limited instrument FM.  The FMS is de- coupled from the science instruments. Instrument FM is limited to the monitoring of instrument power draw, power down request, and heartbeat. The instrument generates and provides the spacecraft with status information in the Interface Transfer Format (ITF). Instrument status includes power-down requests and an instrument aliveness counter.

An instrument power-down request or frozen aliveness indicator results in the removal of operational power from the instrument within a pre-defined number of seconds. In the event of an instrument over-current/over-power condition, the instrument is immediately powered off with no advanced warning. Over-current/over-power protection is handled with a combination of autonomy rules and  resettable circuit breakers located in the PDU. To protect against hard shorts, the PDU monitors current and if the load current exceeds a threshold for 4 ms, the circuit breaker opens the switch and power is immediately removed from the instrument. Autonomy rules protect against soft shorts by monitoring a lower power threshold for a longer duration.

In addition, spacecraft anomalous conditions such as low battery state of charge, low voltage sense, or extended loss of communication result in all instruments being immediately powered off with no advanced shutdown warning. Therefore, instruments must be designed to be immediately powered-off from any internal mode in the event of an instrument over-current or spacecraft anomalous condition. For a violation of the spin-axis Sun-line angle, the instruments receive a 15 second shutdown warning before being powered off. Any additional FM measures that are specific to the instruments are the responsibility of the instruments themselves.

2.4.3 Ground Intervention Concept  The high-level requirement for limited on-board FM drives the ground intervention concept. In an effort to keep the FMS as simple as possible, on-board FM is minimized by taking advantage of inherent mission design characteristics and spacecraft design decisions. The spacecraft are spin stabilized with spin-axis 15-27 deg off the Sun. The near- Sun pointed attitude is the only attitude required to collect the prime science measurements and requires only periodic precession maneuvers every ~21days for the duration of the mission in order to be maintained. The periodic precession maneuvers are dictated by the Earth?s orbital motion around the Sun, with maneuvers performed when the total Sun offset angle reaches maximum value. This orbit offers a number of design advantages: 1) when combined with antenna coverage out to 70 deg from both sides of spin-axis, frequent ground contacts (more than 1/day) with negligible communication delays are possible, 2) the near-Sun pointed attitude ensures adequate power generation when attitude is maintained within the maximum offset angle, and 3) the inherently stable spin state requires infrequent adjustments to maintain the spacecraft?s orientation, allowing for open- loop attitude control.

Since the RBSP spacecraft are near-Sun pointing spinners (inherently stable) with open-loop attitude control, there is no on-board capability for the G&C subsystem to autonomously point the spacecraft, which significantly reduces the amount of on-board autonomy required. In general, on-board autonomy is comprised of dedicated rules that take simple actions such as powering off a component or resetting a component. When possible, the FMS measures are allocated to hardware to reduce the size of the on-board autonomy rule set. Finally, the frequent ground contacts with negligible communication delays allow the burden for fault correction and recovery to be placed on the ground.

3 Verification   As a distributed system, the verification of the RBSP FM requirements was also distributed. Verification of subsystem-level FM requirements were captured in the various subsystem verification plans, with buy-in from the RBSP FM lead engineer. Verification of system-level FM requirements were performed on the spacecraft and led by the FM lead engineer.

Requirements for the RBSP mission are organized hierarchically, based upon the mission?s product breakdown structure, as shown in Figure 9. Requirements are defined from the mission-level directly to the element-level in order to avoid the creation of too many documentation layers. In addition to the requirement level, the requirements tree is also organized according to requirement type (i.e., performance/measurement, mission assurance, environmental, and interface requirements).

Figure 9: RBSP Mission Product Breakdown Structure   The FM requirements are distributed and flow down from the Mission Requirements Document (MRD) to the element-level and then to the subsystem-level. The FM requirements are categorized as performance/measurement requirements which are captured in various requirements documents or as interface requirements which are captured in interface control documents (ICD). Figure 10 shows the hierarchy of FM requirements and the categorization of those requirements.

Figure 10: Hierarchy of Fault Management  Requirements   Although FM requirements may be verified using test, analysis, demonstration, inspection, or some combination of these, the preferred verification method for FM requirements is test. The verification of FM requirements is accomplished through an integrated hierarchical approach comprised of a series of verification activities. During the Integration and Test (I&T) phase, verification progresses from individual components and subsystems to integrated segments and upward to the entire mission system.

Individual components are verified by their providers against the corresponding component- and subsystem-level fault management requirements. The FM lead engineer has oversight authority over these lower-level FM verification activities and has access to all generated verification records and reports. In addition, the FM team performs system-level scenario testing and supports mission simulations and I&T special tests in order to verify the system-level (i.e., mission- and element-level) FM requirements.

The FM team has oversight authority over lower-level FM verification activities and reviewed the verification plans for spacecraft subsystem and science instrument teams, which were allocated FM requirements to ensure that FM requirements are adequately verified. FM requirements allocated to hardware (i.e., spacecraft or ground) are verified during box-level and subsystem-level acceptance test. The individual subsystem teams are responsible for designing and running tests that verify these subsystem-level fault management requirements. FM requirements allocated to spacecraft flight software or ground software are verified by independent acceptance test at the flight software testbed level. The Independent Acceptance Test (IAT) team is responsible for designing and running the tests that verify these subsystem-level FM requirements. The tests used to perform the verification are typically black box, requirements-based tests. FM requirements allocated to spacecraft rule-based autonomy are verified by the autonomy team and autonomy developers on the flight software testbeds, high-fidelity hardware simulators, and the spacecraft. The autonomy test campaign is comprised of two phases: autonomy unit test phase and autonomy path verification phase. Autonomy unit testing is performed on the flight software testbeds early in the autonomy development and involves standalone testing of the individual autonomy objects (i.e., rule, macro, computed telemetry, and storage variable). The goal of the unit testing is to identify defects such as coding errors before the autonomy objects are assembled into a complete deliverable autonomy system.  At the conclusion of the unit test phase, the autonomy system is delivered to the spacecraft and the path verification phase begins (Note: the autonomy path verification testing is on the leading-edge of the FM scenario testing). The autonomy path verification testing takes place during spacecraft I&T with the purpose of exercising the autonomy system on flight hardware and verifying all of the sensor interfaces (i.e., sensor data used by autonomy rules and computed telemetry) and all        commands emitted by the autonomy system to the flight hardware (from autonomy macros). The paths are independently verified on both spacecraft rather than endorsing a ?verification by similarity? approach. FM requirements allocated to the ground system are verified by operational procedure, operational constraint, or by mission simulation. Verification of requirements using operational procedure are performed by inspection of the signed-off procedure document. Verification of requirements using operational constraint are performed by inspection of the RBSP Operations Constraint Document. Finally, verification of requirements using mission simulations are performed by test at the observatory level or the high fidelity hardware simulator.

The FM team has overall responsibility for coordinating the mission- and element-level verification plans and activities.

The resulting verification program ensures that the FMS satisfies the functional requirements and is in conformance with the mission and operational concepts defined for FM.

The FM team is responsible for establishing, reviewing, and approving all FM verification activities and methods planned for requirements specified at the mission- and element-level. All mission- and element-level functional and performance requirements will be verified by one or more appropriate methods prior to launch, with closure status tracked in the DOORS requirements database system.

Whenever possible, FM requirements at the mission- and element-level are verified by test. The FM team is responsible for designing and performing system-level scenario tests that verify the mission- and element-level FM requirements. In addition, some FM requirements are verified using mission simulations which are led by the Mission Operations Team (MOT) or I&T special tests which are led by the I&T Team. System-level scenario tests are developed, designed, and performed by the FM team to verify mission- and element-level FM requirements.  The system-level FM tests are scenario based tests that are similar to mission simulations except that one or more faults are injected during the simulation; the scenario tests are black-box, requirements-based tests. For each scenario, the test must (1) prove that the spacecraft can perform the scenario correctly (i.e., without fault injection) and (2) prove that the spacecraft can recover from the injected fault to a state in which the MOT can return the spacecraft to nominal operations.

As a distributed system, the FM test campaign is divided into two distinct phases, as shown in Figure 11. The first phase is the subsystem-level test phase in which the individual subsystems design and run tests to verify and close their subsystem-level FM requirements (i.e., hardware, flight software, and autonomy). At the conclusion of the subsystem-level test phase, the subsystems are considered ready to be delivered to spacecraft I&T and are available for the second phase of the FM test campaign. The second phase is the system-level test phase that exercises the FMS as a whole on both spacecraft during I&T. The system-level  tests serve two purposes: (1) verification of mission- and element-level FM requirements and (2) validation of subsystem-level FM requirements (Note:  subsystem-level FM requirements are verified and closed at the subsystem- level prior to I&T).

Figure 11:  Fault Protection Test Campaign Overview  System-level scenario testing is performed by the FM team and consists of a series of spacecraft scenarios. The objective of the system-level scenario tests is to verify mission- and element-level FM requirements; in addition, many of the subsystem-level requirements are also validated as a result of verifying the system-level requirements. The FM scenario testing consists of three tiers of testing. Tier one tests must be performed on both spacecraft two times (baseline and launch site), are included on the incompressible test list, and are regression tested on both spacecraft if a hardware configuration change or a significant FSW change affects the test. Tier two tests must be performed on both spacecraft at least once (baseline), are included on the incompressible test list, and are regression tested on the high-fidelity hardware simulator or the affected spacecraft if a hardware configuration change or a significant FSW change affects the test. Finally, tier three tests are performed on both spacecraft once (baseline).

The baseline configuration for FM scenario testing is when the spacecraft bus is complete, with a goal of having instruments integrated. The test platform for the baseline FM testing is I&T; this allows the FMS (i.e., spacecraft bus hardware, C&DH flight software, autonomy, and ground/missions operations) to be exercised as a whole and permits the verification of all interfaces between components, all autonomy commands (via autonomy macros) to flight hardware and flight software, and all hardware (i.e., PDU) commands to flight hardware. The high fidelity hardware simulator (section 3.1) is used whenever possible to dry-run the scenario tests to identify and correct procedural errors and for regression testing of tier two tests.

The scenario tests are designed through a process of grouping the FM requirements into sequences. The process is performed using a requirements-to-test allocation matrix in which each requirement is assigned to a test or group of tests. The selection of which tests form the incompressible test suite is performed through consultation and iteration of the core test list with the systems engineering team.

Following the allocation of all requirements to the various tests, individual test plans are developed that include a set of starting conditions and high-level outline of test and verification activities. Each test plan includes the following information: test name, document number, tier designation, test objective, requirements fully or partially verified by the test, minimum spacecraft component set required to run the test, initial conditions for the test, required support, planning notes, and the high-level test outline.

Figure 12 shows the activity flow for each scenario test during the system-level test phase.  Following the development of the system-level verification and test plan, individual test procedures are generated for each test. A test procedure is a configuration managed document that describes the detailed information necessary to run the test on the spacecraft and the list of steps taken to execute the test. The test procedure is also the as-run document used by the test conductor or FM lead engineer to document the major milestones of the test. When possible, the test procedure will be dry run on the high-fidelity simulators to identify and correct procedural errors. The test procedure is then executed on the observatory during I&T (eventually the procedure is run on both spacecraft). Any deviations from the test procedure are documented within the test procedure as red lines (i.e., permanent changes to the test procedure) or black lines (i.e., changes for the current procedure). If the test fails due to test procedure errors, the test procedure is corrected and the process is repeated. However, if the test fails due to an implementation error in flight hardware, flight software, or autonomy, a formal discrepancy is documented in the Anomaly/Problem Failure Reporting (APFR) system, any changes or corrections to autonomy, flight software, or hardware are implemented and the test is re-run until the anomaly is resolved and the test runs to successful completion. After the completion of each test, a review of the test procedure, as-run information, and spacecraft data is performed by a member of the FM team.

Following the review of the test data, the FM lead engineer signs the test procedure confirming that the test was run and the review accurately described the success or failure of the test.

FAULT PROTECTION TEST PHASE  START  Create / Edit Fault Protection  Test Procedure  Dry Run Fault Protection Test (RBOPS-A)  Review Test Results  Archive As-Run Test Procedure  Execute Fault Protection Test (RBSP-A and RBSP-B)  ?

END  Document Discrepancy in APFR System  PASS  FAIL  Implementation Error  Test Procedure Error  Change / Correction to  Autonomy, FSW, or Hardware  Updated System  7417-9175  Fault Protection  Verification and  Test Plan  Element-level  Fault Protection  Requirements  Fault Protection  Test Report  Fault Protection  Test Procedure   Figure 12:  Fault Protection System-Level Test Process  Flow  4 CONCLUSION  The RBSP spacecraft are designed to operate for multiple years in the extreme environment of the Earth?s radiation belts.  To facilitate this mission, a robust fault management system is integrated into the system architecture from the earliest stages of the design.  This fault management system was rigorously tested during I&T, and the results of this testing show that the RBSP spacecraft are protected against on-orbit fault conditions, and therefore have a high probability of meeting the mission objectives.  The RBSP fault management design, implementation and test approach demonstrate that robust, fault-tolerant designs are achievable for complex systems operating in harsh environments, even for systems with only limited or selective redundancy.

5 REFERENCES   [1] J. Stratton and N. Fox ?Radiation Belt Storm Probes  (RBSP) Mission Overview?, Proc. of the 2012 IEEE Aerospace Conf. Vol. 027 No. xxx, Big Sky, Montana, USA, March 2012. The Johns Hopkins University Applied Physics Laboratory, Laurel, MD 20723    [2] K. Kirby et al ?Radiation Belt Storm Probes (RBSP) Spacecraft and impact of environment on observatory design?, Proc. of the 2012  IEEE Aerospace Conf.,Vol.

027 No. 1759,  Big Sky, Montana, USA, March 2012.


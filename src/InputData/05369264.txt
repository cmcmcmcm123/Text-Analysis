The authors thank National Natural Science Foundation of China (70801019), Planning Office of Philosophy and Social Science  of Guangdong Province (08GO-04) and Doctoral Foundation of Guangdong University of Technology (083047) for financial

Abstract   Application of data mining in manufacturing  enterprises? quality management is introduced. Quality factor analysis is very important for quality control and production management. In this article, based on Rough Set theory an improved Apriori algorithm is put forward to mine quantitative relationship among different factors which influence product quality. The improved algorithm overcomes the traditional Apriori algorithm?s limitation of qualitative analysis.

1. Introduction   Data mining is successfully used in many industries, such as in steel manufacturing industry, a data mining system named ISPA which is developed conjointly by American and Japan steel companies is applied to analyze product performance and control quality and has made great benefits[1]. Generally speaking, in terms of applications of data mining in quality control and quality analysis, it  can be classified as follows:  (1) quality control For many quality control parameters and process  parameters, there are no precise mathematical expression. it is needed to use observation or other methods to determine the corresponding function between independent variables and the dependent variable. Obviously there are a number of analytical expressions, but inconvenient to use, hence a simple function approximation to replace the complex functions. Regression equation and simulation is applied in such cases to analyze the expression of independent variables and the relationship between the dependent variable.

(2) quality  analysis The formation of quality is affected by a number of  factors, but a comprehensive analysis of all factors is impossible, only the main factors analysis to explore the causal relationship between them and the association rules is necessary. Analysis of association  rules in data mining is most commonly used method, its main principle is that if two or more of the value of parameters appears simultaneously and repeatedly , then it is possible that a link between them can be established. The most commonly used methods of correlation analysis is Apriori algorithm, but the traditional Apriori algorithm for mining data is suited for the qualitative analysis, and exploring the quantitative relationship in production quality management is more useful. In this paper, based on rough set theory an improved Apriori algorithm is proposed[2] .

(3) quality inspection Quality inspection and judgment, such as the  classification of quality deficiencies, grading of product quality, need classification analysis rule.

Common classification algorithms are Decision Tree Algorithm, Rough Sets algorithm and Bayesian algorithm.

In this paper, we propose an improved Apriori algorithm basing on rough set attribute reduction theory  to extract quality association rules, then an example of steel products? quality rules excavation is given to show how this  algorithm is applied.

2. Association knowledge acquisition based on rough set   Rough set theory (Rough Set, RS) is a mathematical tool to study imprecise and uncertain knowledge, put forward by Poland scientist, Professor Z. Pawlak.

Relationship table of Data Mining can be used as information table in rough set. Rough set theory can be used to reduce high dimensional data pre-processing to remove redundant attributes so as to achieve lower dimension[3]. In this paper, the characteristics of rough set theory is used to improve the efficiency of rule extraction.

Apriori algorithm is most commonly used in extraction of association rules, it is first proposed by R Agrawal in 1993 to find links between different items  2009 Third International Symposium on Intelligent Information Technology Application  DOI 10.1109/IITA.2009.81   2009 Third International Symposium on Intelligent Information Technology Application  DOI 10.1109/IITA.2009.81       in databases to identify customer buying behavior models. The core of the Apriori algorithm is based on a two-stage frequent set[4] [5] .

Production process is a complex uncertain process, with a characteristics of highly dimensional, strongly correlated and non-linear parameters. Production quality feature is not only affected by production process, but also the   interaction effect among features, for example, the mechanical properties of steel are related  not only with the rolling parameters, but also with the chemical constituents of steel. In view of this characteristic, the improved Apriori algorithm bases on rough set theory to discretize and reduce high- dimensional data to improve the efficiency of Apriori algorithm; and uses Apriori algorithm? frequency set recursive thinking to search association rules between quality attributes.

2.1. Rough set attribute reduction   Rough set looks the objective world as an  information system that is  represented by information table , and can be indicated by Five-Tuple:   >=< fVDCUS ,,,,  In which? U   is a collection of objects?  ADC =?  is attribute set?subsets C ? D  are condition attributes and results attributes?  aAa VV ?= ?   is a collection of attribute values, aV  represents the scope of attributes.

VUaAf ?:  is an information function, attribute value of each object is specified in U .

Reduction algorithm of roughset is as follows: Fucntion : Reduction?E,ES? Input?training set  ES and attribute set  E Output?reduction set RED Algorithm ?  Step1? calculate the importance of attibutes? given the important attribute set I?  Step2?generate distinct matrix, calculate distinct function and frequency information count(ai)?  Step3?generate the core of attributes CORE?get reduction rules?  Step4?RED=CORE?I?A=C-RED? Step5?sequence attributes set A in accordance  with the frequency of attribute values Step6?calculate dep RED=K(RED,D)?  Step7?calculate dep C=K(C,D)? Step8?while(dep RED?dep C)  Begin Select an attribute ai whose  frequency value is biggest from A?  RedOld=RED? RED = RED?{ai}? A=A-{ai}? depREDOld=K(REDOld,D)? depRED=K(RED,D)? if(depRED = depREDOld)Then  Begin RED=RED-{ai}? depRED  =depREDOld? End  End Endwhile?  Step9?Return RED?  2.2. Quality association rules extraction based on Apriori  Association rules extraction function?Apriori ? I, D,minSupport? Input?item sets I={i1?i2??,in}?transaction database D? minSupport? Output?frequency set L? Algorithm?  Step1 ? defin 1 ? item set ? accroding to miniSuppot to define frquency set 1? item set 1L ?  Step2?for( 12; ,kk L K ++  ?= ? ? ) begin 1( )k kC aprioriGen L ?= for all transactions t D? begin ( , )t tC subset C t= for all candidates tc C?  do  .c count++ end  { }. mink kL c C c count S= ? ? ?       end Step3?return k  k  L? In this paper, after the establishment of quality-  oriented data warehouse choose the theme to be analyzed and related production process data , use Apriori algorithm to reduce attribute, and extract the relevant decision rules knowledge, the overall algorithm is as follows:  (1) In accordance with the demand of quality analysis, select data tables in the data warehouse to determine the condition attribute set C and the results attribute set D. Condition attributes consist of product properties (such as steel and specifications), quality characteristics (such as chemical composition), process characteristics (such as heating temperature, silking speed and so on). Results attributes consist of target attributes, such as physical performance forecasting, quality defects and the determination of quality grade.

Both of them are constituted by several attribute sets, based on condition attribute set C and the results attribute set D construct attribute set A.

(2) According to quality analysis's goal, make discretization processing to the attribute collection value collection V, construct decision table.

(3) Use reduction algorithm Reduce (E, ES), eliminate redundant condition attribute, obtain the production data set.

(4) Apply Apriori association rule extraction algorithm to the data set, gain the intrinsic connection knowledge among attributes.

Function?RuleGenerate ?DB,C,D,minSupport? Input?dabatabse set DB?condition attributes set C? decision attributes set D? minSupport? Output?rule set RS Algorithm?  Step1? ( )Sred C = ? ? Step2?input database set and attribute set, and  make reduction calculation ( )Sred C = Reduce ?E,ES??  Step3?for each condition attribute iC C? {  If( iC  not belongs to ( )Sred C ){  Delete iC from DB?  { }iC C C= ? } } Step4?input deleted redundant attributes dataset  DB to Apriori ? I, D,minSupport ? ? calculate frequency item set?  Step5 ? generate association rule according to  frequency item set 1kL ? ? Step6?Return RS?   3. Application example of data mining in quality database   Now take the steel products? mechanical properties as the example, explain the algorithm application in the qualitative data warehouse. Assign out production information data models such as the steel products attribute, the chemical composition, products mechanical properties and so on from the quality control subject data warehouse, carry on the association rule extraction according to the following step.

Below am example of stainless steel mechanical properties is given to explain the rough set reduction process, data is shown in Table 1.

Tab. 1  Stainless Steel Quality Table  U a b c d e f g  1 0.326 1.10 0.021 0.016 850 26 20  2 0.153 1.32 0.035 0.035 960 21 39  3 0.341 1.21 0.042 0.026 800 38 35  4 0.210 0.92 0.041 0.025 1105 27 42  5 0.301 0.86 0.038 0.019 950 20 24  ? ? ? ? ? ? ? ?  a - C(%)       b ? Mn(%)     c - P(%)      d - S(%) e ? temperater (?C)      f-rolling speed(m/s)  g- AK(J)   (1) Attribute value discretization: map the attribute value to the standard separate mark, each separate mark represent a data sector, for instance the cold spindle heating temperature may defer to the sector division [600,800],[800,1140],[1140,1200] and so on, its discrete value mapping is 0,1,2 and so on. After attribute value discretizaiton, each record in database is expressed by standard discrete value.

In this example, according to the separate sector division, obtains the decision table shown in table 2.

(2) Define condition attribute set and result attribute set. This example aims to analyze factors affecting products? mechanical properties and the association rule, to determine steel products? mechanical properties as result attribute. The condition attributes are chemical composition content, the tapping temperature and the rolling speed, and the chemical composition has several principal constituents: Carbon, manganese, phosphorus and sulfur.

Tab. 2 Decision Table U a b c d e f g  1 1 0 1 1 0 1 0  2 0 0 1 0 1 0 1  3 2 0 0 1 0 2 1  4 0 0 0 0 2 1 0  5 1 1 0 1 0 0 0  ? ? ? ? ? ? ? ?   (3) Condition attribute value reduction. Use the  rough set reduction algorithm, delete the redundant condition attributes, thus raise the following connection rule excavation efficiency and the excavation quality greatly. Construct distinct matrix and the distinct function according to decision table 2, and reduce dimension of  decision table to obtain table 3.

Tab. 3 Reduction Decision Table  U a?C  ??  b(Mn)  ?  f(rolling  speed)  m/s  g(Ak)J  1 1 0 1 0  2 0 0 0 1  3 2 0 2 1  4 0 0 1 0  5 1 1 0 0  ? ? ? ? ?   (4) Extract quality rule from the decision reduction  table using Apriori algorithm. Because the Apriori algorithm can only process Boolean data , the decision table has to be transformed to position chart and then apply Apriori to calculate it. The transformed position chart is shown in Table 4.

Tab. 4 Stainless Steel Quality Table  a(1) a(2) a(3) a(4) b(1) ?  a(1)=0 a(2)=1 a(3)=2 a(4)=3 b(1)=0 ?  0 1 0 0 1 ?  1 0 0 0 1 ?  0 0 1 0 1 ?  1 0 0 0 1 ?  0 1 0 0 0 ?  ? ? ? ? ? ?    (5)  Apply Apriori algorithm to the position chart, and select the association rules whose predetermined confidence and support conform to expectation valve value. Suppose the support is 50%, the confidence is 80%, the connection rule is { ( 2 ) , ( 0 )} { ( 0 )}a f g? , its means that if (carbon content is lower than 0.035%), and (rolling speed is smaller than 25m/s) then steel products? mechanical properties (impact merit) will be bigger than 24J, the performance will not meet standards. This rule? confidence is bigger than 0.8.

According to the quality association rules excavated, in the production quality control, to avoid unqualified mechanical properties, it is required to select those steel raw materials whose carbon content is high (>0.035%) to escort to the heating furnace, simultaneously the rolling speed cannot be too low in the steel products rolling, in order to guarantee the end product? quality performance in advance through the quality control.

4. Conclusion   Application of data mining technology in quality management mainly in quality control and quality analysis is analyzed in this paper. An improved Apriori algorithm is proposed based on rough set attribute reduction theory  to extract quality association rules, it unified the merits of rough set method and association rule excavation method, can gain non-redundant decision rule the users needed whose confidence valve value and support valve value can be predetermined.


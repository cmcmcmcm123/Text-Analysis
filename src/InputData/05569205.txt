

Abstract?This paper proposed a model and algorithm to mine local association rules from existing spatial dataset while fully taking the fact that spatial heterogeneity may widely exist in reality. The essential part of the model is the calculation localized measure of association strength (LMAS) which is used to quantify local association patterns. Spatial association relations are specifically defined as spatial relations which are modeled by DE-9IM model. We proposed mining algorithm for discovering local association patterns from spatial dataset. The proposed algorithm extracts reference and target objects that have potential association patterns and processes LMAS for each object in the reference objects for any interested spatial relation.

Therefore, the output of the algorithm is a LMAS distribution map that reflects association strength variations over the study region. Spatial interpolation for LMAS is suggested to create a continuous LMAS distribution which can be used to explore ?hot? spots that demonstrate strong association patterns. This proposed model and algorithm was applied in a ecological system research.

Keywords- spatial association, data mining, algorithm, GIS

I.  INTRODUCTION The development of Geographical Information System (or  GIS) greatly facilitates the management of spatial data, which carries topological and/or direction and/or distance information usually organized in sophisticated, multi-dimensional spatial data structure. GIS and information technology have accumulated large volumes of spatial data. Knowledge discovery from databases (KDD) or data mining (DM) has been an area of increasing interests in recent years (Yee et al., 2001; Lu et al., 1993; Taylor et al., 1999). As data mining can extract implicit knowledge or patterns from existing databases and possibly provide a solution to build knowledge base for expert systems, it is very useful in understanding the reality which is reflected in the data (Lu, et al., 1993; Taylor, 1999).

Spatial patterns include many categories, among which spatial association is an important one (Lee et al, 2006).

Traditionally, association rule mining is to find out association rules that satisfy the predefined minimum support and confidence from a given database. Classic association rule mining algorithms such as Apriori and DHP (Direct Hashing and Pruning) were proposed to draw rules from transaction databases. Association mining result is rules in the form of X=>Y, where X and Y are itemsets. The support level for X=>Y on the base of set D is defined as s% which means that out of all transactions in D there are s% records include both X and Y, while the confidence level of X=>Y is defined as c%  that means there are c% records containing Y out of the transaction records that have X. With wide applications of Geographic Information Systems in recent years, a lot of work has been done to mine spatial association rules from spatial databases (Anthony et al., 2007; Wang et al., 2006). Much work has been focusing on developing methods or algorithms to improve the mining efficiency from spatial databases (Wang et al., 2006). However, most of these researches have not yet consider spatial heterogeneity where spatial association patterns over an interested region may show variations. For example, we discovered in a previous grassland ecological system research, that vegetation plant successions follow different patterns over the whole grassland. In particular, the successions are influenced by other natural and socioeconomic factors and there are strong spatial associations between vegetation successions and other factors. One common way adopted to partially overcome local variations of spatial association patterns is to divide the whole region into different districts or sub-areas, e.g., A and B, and thus to mine the association patterns separately (Li, 2008). Apparently, this division based on researcher?s experience does not have a strong theoretical basis. It is beneficial to find a way to reflect the spatial variations of spatial association patterns, namely mining local association rules from spatial dataset.

This paper tries to model mining local associations from spatial dataset. Our approach builds a set of association predicative based on the Dimensionally Extended 9- intersections Model or DE-9IM proposed by Clementini & Di Felice (1995). Local association index is defined to measure the strength of spatial associations.



II. METHODOLOGY AND ALGORITHM  A. Modeling Spatial association rule mining is conducted on spatial  dataset. Formally, spatial association rule can be described as following. For two spatial object set S1 and S2, let R be a spatial relation term or association predicative, ARB if A and B have an association relation R, where A? S1 and B? S2. Considering mining association patterns for an area covered by rivers and agricultural fields. Along the sides of rivers in 5 kilometers buffered area that 80% of all area is distributed by agricultural fields, then we say agricultural fields and rivers demonstrate spatial association relation. Similarly, we can say that residential buildings are closely associated with roads if the former ones are located within a certain distance near the roads.

However, traditional modeling of spatial association does not  * Corresponding author     consider spatial heterogeneity of region, we here try to define local spatial association index that can reflect the strength variation of association rule in a region.

To define the spatial relation R between two geometries, we adopt the Dimensionally Extended 9-intersections Model or DE-9IM (Clementini & Di Felice, 1995; Clementini, Di Felice, & Oosterorn, 1993) to describe spatial relations. Given two objects in a topological space, three sets of points are determined in DE-9IM for each object: the interior (denoted by ?), the boundary (denoted by ? ), and the exterior, or complement (denoted by -).

It is possible to determine the spatial relation between two geometries A and B by considering all the possible intersections among the three sets of points associated to both A and B. For each intersection we consider the dimension of the intersection itself. In particular, given a set S, the dimension of S is given by the function dim(S),  ? ? ?  ? ? ?  ? =?  =  areaan least at  contains S is 2 areas no and line aleast at  contains S if 1  areasor  lines no andpoint  aleast at  contains S if 0 S if  dim(s)  ?    The spatial relation R(A, B) is given by the following 9- intersection matrix,  ? ? ?  ?? ?  ?  ???? ??????? ????  = ????  ?  ?  )dim()dim()dim( )dim()dim()dim( )dim()dim()dim(  ),( BABABA BABABA BABABA  BAR ? ?  ????   Any two spatial objects can be described by DE-9IM in terms of spatial relation. The possible set for each relation includes T, F, *, 1 or 2 which are defined as following,   Example: Given two regions A1 and A2, we say that A1 overlaps A2 if the resulting 9-intersection matrix matches the following pattern,  ? ? ?  ?  ?  ? ? ?  ?  ? =  ** *  *** )2,1(  T TTAAoverlap  In other words, we consider only the intersection of the two interiors and the intersections of the interior of one object with the exterior of the other. We do not care of the value of the other intersections (* in the matrix). For the spatial relations defined in DE-9IM, the possible results for any two objects a and b are described in the following, depending on the types point(P), line(L), or polygon(A) of the objects.

1?  Disjoint, which is applicable to all feature types.

a.Disjoint(b) ? (I(a)?I(b) = ?) ? (I(a) ? B(b) = ?) ? (B(a) ?I(b) = ?) ? (B(a) ? B(b) = ?) ? FF*FF****  2?  Touches, which is applicable to A/A, L/L, L/A, P/A and P/L. a.Touches(b) ? (I(a)?I(b) = ?) ? ( (B(a) ? I(b) ? ?) ? (I(a) ?B(b) ? ?) ? (B(a)?B(b) ? ?) )? FT******* ? F**T***** ? F***T**** 3?  Crosses.

If a ? P?b ? L, or a ? P?b ? A, or a ? L?b ? A, a.Crosses(b) ? (I(a) ? I(b) ? ?) ? (I(a) ? E(b) ? ?) ? T*T******; If a ? L, b ? L, a.Crosses(b) ? dim(I(a)?I(b)) = 0 ? 0******** 4?    Within a.Within(b) ? (I(a)?I(b) ?  ?) ? (I(a) ?E(b) =?) ? (B(a)?E(b) =?) ) ? T*F**F*** 5?    Overlaps If a ? P?b ? P or a ? A, b ? A, a.Overlaps(b) ? (I(a) ?I(b)??) ? (I(a) ?E(b)??) ? (E(a) ?I(b)??) ? T*T***T**; if a ? L, b ? L, a.Overlaps(b) ? (dim(I(a) ?I(b) = 1) ? (I(a) ?E(b)??) ? (E(a) ?I(b)??) ? 1*T***T** 6?Equal a.Equal(b) ? (I(a)?I(b) ?  ?) ? (I(a) ? B(b) = ?) ?  (I(a) ? ?(b) = ?) ?  (B(a) ?I(b) = ?) ? (B(a) ? B(b) ?  ?) ?  (B(a) ? ?(b) = ?) ?  (E(a) ?I(b) = ?) ? (E(a) ? B(b) = ?) ?  (E(a) ? ?(b) ? ?)? TFFFTFFFT 7?Contains a.Contains(b) ? b.Within(a) 8?    Intersects a.Intersects(b) ?! a.Disjoint(b) 9?    Covered By a.CoveredBy(b) ? (a.within(b) ? a.intersect(b)) 10? Inside, a.Inside(b) ? (a.within(b) ? !a.intersect(b)) 11? Envelope Intersects a.EnvelopeIntersects(b)?  envelope(a).Intersects(envelope(b)), where envelope(a) returns the minimum boundary box of object a.

B. Algorithm Spatially heterogeneity (heterogeneous environment) is  defined as regions where the environmental conditions (including natural and social-economic) vary much. For example, a spatial association rule like ?residential buildings are highly related with roads (located around city roads)? does not provide useful information if it is at a city scale, because it is possible that some locations (sub-regions) within the city may not demonstrate such a rule. Therefore, the mined rules may mislead decision making in areas like city planning. It is of fundamental importance to take spatial heterogeneity into consideration in algorithm design of mining spatial association patterns.

Traditional association mining algorithms depend on support and confidence level to measure the strength of association patterns. Different from that, we define localized measure of association strength (LMAS) to quantify local association patterns.

For any object O in a spatial dataset, LMAS is calculated as a kind of index (KI) indicating the ratio of the other objects that satisfy the interested spatial relation R to all the objects within a predefined buffered area of object O. Here KI depends on the type of the objects. Figure 1 shows two KI for typical LMAS calculation. Figure (a) presents spatial relation ?overlaps? and the two types of objects are both polygon. In this case, we first use a predefined buffering radius for the current selected object O (belonging to Type A) to select all the interested objects (Type B, for example) that are located within the buffered area.

For polygon(O)-polygon(B)-overlaps case, where the first polygon indicates the selected object to calculate its LMAS while the second polygon means that polygon objects (Type B) is interested feature type and the last ?overlaps? is the spatial relation to be mined, KI is an area index. Specifically, for figure (a), LMAS is the overlapped area by Object O out of the total area of Type B in the buffered area. Similarly, for polygon(O)-line(C)-intersects case as shown in Figure (b), LMAS is a length index which is the result of the total length of the intersected segments by Object O out of the total length of line (Type C) within the buffered area of object O. Through this way, LMAS for any objects in a spatial dataset can be computed to measure its association relations interested with any other types of spatial features.

Figure 1.  LMAS calculation model    The basic workflow for LMAS calculation algorithm is shown in Figure 2. Specifically, 11 operators and their combined ones for the spatial association relations are defined first based on the definition in Section 2.1. Then spatial dataset, composed of GIS layers, is input to be processed by the defined operators. During data input, we only extract interested spatial objects from the dataset. Therefore, we define reference entities and target entities. Reference entities are a set of objects that are defined to mine their spatial relation with other features while target entities are those that may be associated with reference entities. The extraction of reference and target entities can be done through GIS attribute or spatial filtering. With the input of extracted entities, the spatial operators output LMAS, which is actually strength distribution of local associations, for  each object in the reference entity set. To better reflect the local associations for the whole region, a spatial interpolation is performed to create a continuous LMAS distribution map for the region. For reference entities that are line or polygon, spatial sampling needs be performed before the interpolation.

Figure 2.  Algorithm flowwork

III. CASE STUDY  A. Description The proposed approach was applied to mine vegetation  succession patterns in Xilin River Basin, Inner Mongolia, China (Figure 1). The region covers an area of 10, 000 km2.

Over the last several decades, the human population keeps growing and overgrazing now becomes an important issue due to its impact on vegetation degradation. It is very helpful to find out what may be associated with plant succession process which reflects vegetation degradation. Due to the heterogeneity of the grassland in terms of natural and socioeconomic development, it is expected that the associations may have spatial variations. We intended to study the variations of spatial association over the whole region.

The vegetation classification system consisting of 11 vegetation communities is determined based on the plant ecological and biological features (Sha et. al., 2008).

Ecologically essential vegetation succession pathway was analyzed. The main vegetation communities (indicated by climax species), i.e., Stipa grandis (SG), is widely distributed in the research area. However, previous studies have revealed that, in recent two decades, the area which was originally dominated SG was replaced by other degraded vegetation communities, most of which are Cleistogenes squarrosa (CS) and Artemisia frigida (AF). Therefore, our main focus was focusing on the vegetation successions from SG to CS/AF. The spatial distribution of vegetation communities in the year of 1998 and 2004 were overlaid to derive a succession map which has polygon features (patches).

The succession layer is treated as reference layer to find out its association with other factors. Four factors are selected to analyze their spatial associations with the succession. To measure the strength of local association rules, each entity (patch) in the succession map layer was processed to find out the number of associated point features, the length of line features, or the total area of polygons by DE-9IM operators.

For example, for road network layer which is a line layer, LMAS of ?intersects? operator is assigned to the ratio of the total intersected length of the road network to the total length of road network covered with a predefined radius (1 km). Table 1 summarizes the 4 reference GIS layers and the radius for each ED-9IM operator.

TABLE I.  ASSOCIATION FEATURES  Variable Description Feature class Radius Village Village centers Point 2 km Road Road network Line 1 km Water Rivers and water regions Polygon 1 km Urban Urbanized areas, (cities  and towns) Polygon 2 km  B. Result The result from the traditional association mining (TAM)  and that from our approach were compared. For TAM algorithm, Apriori was applied on the whole region without considering possible spatial association pattern variations, which produced a global spatial association patterns. This global association analysis was performed on the data with records identified by all the succession patches. In other words, each record in the succession map is a transaction with items corresponding to the possible spatial relation operators. The current proposed approach extracts local association patterns based on the 11 spatial relations defined in DE-9IM.

The result of TAM was listed in Table 2. For the comparison purpose, we focused on the a few spatial relations (spatial association predicative) defined in DE-9IM model for both TAM and the proposed approach. The applicable predicative in the context of this research, considering that the feature class of vegetation succession layer is polygon, includes only ?touch? and ?intersect? operators as well as their combined one ?touches ? intersects?. It could be seen that the support values for all the spatial relations are very low, which indicates that spatial association patterns between vegetation succession and the 4 considered factors (Village, Road, Water, Urban) and their combined one Water ? Road may not be strong. Since all the support values of the 1-itemsets are very low, other higher itemsets were not computed. Due to this reason, frequent itemsets, if the minimum support is set 0.1, could not be extracted from the dataset. It seems that it might not be appropriate to make spatial association analysis on a regional scale. The reason could be an averaged result of spatial association patterns, which buries spatial association patterns in some particular locations.

TABLE II.  ASSOCIATION STATISTICS  FROM TAM  Relations Village Road Water Urban Water ? Road Touches N/A N/A 0.02 0.08 N/A Intersects 0 0.05 0.03 0.06 N/A  Touches ? Intersects  N/A N/A N/A N/A 0.04  N/A: Not applicable   (a) the study region    (b) succession map with the association features  Figure 3.  Study region and map of assocation features  To better reflect the local spatial association patterns of the region, we took spatial heterogeneity into account and used the proposed approach to analyze the local spatial associations over the whole region. Specifically, each entity contained in the vegetation succession layer was processed based on the defined spatial relation operators. Similar to TAM, the meaningful operators in the context of this research only have ?touch? and ?intersect? as well as their combined ?touches ? intersects?.

However, the calculation of LMAS for each spatial relation was conducted locally, i.e., in a buffered area of each entity in the vegetation succession layer. This LMAS calculation was processed recursively until all entities, referred to as reference entities, in the succession layer were taken, and all the entities in other GIS layers were taken by the operators as target entities. The result of the process of mining local association between vegetation succession and road network produced three maps showing LMAS for ?touch?, ?intersect? and ?touches ? intersects?, respectively. Those maps are composed     of polygon entities that identical to the vegetation succession patches. In addition, each polygon entities are attributed by a field of LMAS value. A regular grid with 1000 ? 1000 sampling points covering the whole region was overlaid with the above maps. Points located within the polygons (succession  patches) were extracted and labeled by LMAS value. Ordinary Kriging was used to interpolate the extracted points to generate continuous LMAS distribution maps over the whole study region for the selected 3 operators (Figure 4).

touches operator    intersects operator    touches ? intersects operator  Figure 4.  LMAS maps between vegetation succession and road network  Statistics of LMAS distribution over the study region revealed that LMAS showed high variation (Table 3). This clearly demonstrates that spatial associations in some areas (districts) of the study region prove to be strong, and on the contrary, some districts might have very slight spatial association. A predefined threshold value can be set to extract ?hot? spots that demonstrate high trend of associations from LMAS maps. Therefore, the proposed approach is useful in exploring local association patterns even the global associations are not strong enough.

TABLE III.  ASSOCIATION STATISTICS  FROM  OUR APPROACH  No. Operators LMAS max min mean deviation 1 touches 0.25 0.00 0.09 0.19 2 intersects 0.15 0.00 0.08 0.15 3 touches?intersects 0.12 0.00 0.06 0.12

IV. CONCLUSION Knowledge discovered from spatial databases has been  recognized as a valuable knowledge acquisition tool in various fields (Sha & Bian, 2005). The present study proposed a method of mining local association pattern from spatial database by using the proposed model and mining algorithm.

Traditionally, the task of spatial classification usually only consider the whole region as one unit. We continued this further with the intention to find spatial association variations in a heterogeneous environment. This work defined an index, LMAS to quantify the strength of particular association patterns based on DE-9IM defined spatial relations. Our model proves to be useful to reflect spatial variation in association patterns when the study region represented heterogeneous feature. Compared with traditional method which takes the whole region as one unit, the proposed method can be well  customized to get spatial association pattern based on the interested spatial relations. Essentially, the method proposed can better reveal the reality in terms of the mined result of spatial association pattern.

There are two concerns for further work. First, the buffering size for reference entities should be carefully decided. Second, DE-9IM only defines topographical relations of spatial entities.

For mining local associations for distance and angle (direction) patterns, theoretical models must be studied to represent those two patterns based on which LMAS can be calculated.

